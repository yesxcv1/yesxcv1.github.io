<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# product: http://ogp.me/ns/product#">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="The best method to learn the many ways OpenLayers can be used to render data on maps is to dive straight into these recipes. With a mix of basic and advanced techniques, it’s ideal for JavaScript novices and experts alike.">
<meta property="og:description" content="The best method to learn the many ways OpenLayers can be used to render data on maps is to dive straight into these recipes. With a mix of basic and advanced techniques, it’s ideal for JavaScript novices and experts alike.">
<meta property="og:title" content="OpenLayers Cookbook | Packt" />
<meta property="og:type" content="books.book" />
<meta property="og:url" content="https://www.packtpub.com/product/openlayers-cookbook/9781849517843" />
<meta property="og:image" content="https://static.packt-cdn.com/products/9781849517843/cover/smaller" />
<meta property="og:site_name" content="Packt">
<meta property="books:isbn" content="9781849517843">
<meta property="books:rating:value" content="4.5">
<meta property="books:rating:scale" content="5">
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="OpenLayers Cookbook | Packt" />
<meta name="twitter:description" content="The best method to learn the many ways OpenLayers can be used to render data on maps is to dive straight into these recipes. With a mix of basic and advanced techniques, it’s ideal for JavaScript novices and experts alike." />
<meta name="twitter:site" content="@PacktPub" />
<meta name="twitter:image" content="https://static.packt-cdn.com/products/9781849517843/cover/smaller" />
<meta name="twitter:creator" content="@PacktPub" />
<link rel="canonical" href="https://www.packtpub.com/product/openlayers-cookbook/9781849517843" />
<link rel="shortcut icon" href="https://d2aov160eccqlv.cloudfront.net/271739eb287c43adb004792095a0b2fc/images/7e26cb80ef4e68f870f1e40b5ef46584.ico">
<title>OpenLayers Cookbook | Packt</title>

<meta name="csrf-token" content="cP6hjWg65V33EUer27I8AOldsD7aj1dBHYLnknr0">
<script>
window.dataLayer = window.dataLayer || [];
dataLayer = [{"user":{"loginState":"Logged Out"},"productDetail":{"ecommerce":{"currencyCode":"USD","detail":{"products":[{"name":"OpenLayers Cookbook","id":"9781849517843","price":44.99,"original_price":44.99,"variant":"PRINT","category":"application-development","price_after_promo_code":44.99},{"name":"OpenLayers Cookbook","id":"9781849517850","price":26.99,"original_price":26.99,"variant":"EBOOK","category":"application-development","price_after_promo_code":5}]}}}}];
</script>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KHLZ7JF');</script>
<script type="text/javascript">
        window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(r?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};

        if(!window.heap.appid){
            heap.load("34805961");
        }
    </script>

<script type="text/javascript">
        var HeapUserId = "";

        if(typeof HeapUserId === "string" && HeapUserId !== "undefined") {
            window.heap.identify(HeapUserId);
        }
    </script>
<link rel="stylesheet" href="/css/bootstrap.css?id=ce8e8ecb2ee5ff0c4b76">
<link rel="stylesheet" href="/css/app.css?id=90bb4ca4f87b6941978e">
<script src="/js/app.js?id=5af5af514f3727b315f9"></script>
</head>
<body>
<div id="app">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KHLZ7JF"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<nav id="primary-navigation" class="navigation">
<div class="container-fluid navigation__inner">
<div class="navigation__left">
<div class="dropdown hidden-md hidden-lg">
<button class="dropbtn navbar-toggle btn btn-clear navbar-menu-toggle">
<i class="fa fa-bars icon-menu__icon" aria-hidden="true"></i>
</button>
<div class="dropdown-content hidden-md hidden-lg">
<ul>
<li><a href="https://www.packtpub.com/all-products" target="_blank" class="menu__link">Browse All</a></li>
<li><a href="https://www.packtpub.com/free-learning" target="_blank" class="menu__link">Free Learning</a></li>
<li><a href="https://account.packtpub.com/login?returnUrl=referrer" target="_blank" class="menu__link">Sign in</a></li>
<li><a href="https://subscribe.packtpub.com" target="_blank" class="menu__link nav-link-subscribe-mobile btn-primary">Subscribe</a></li>
</ul>
</div>
</div>
<a href="https://www.packtpub.com/" id="main-logo" title="Home">
<img class="logo" src="/images/logo.png" alt="Packt Logo" />
</a>
<form action="https://www.packtpub.com/catalogsearch/result" class="search-bar">
<input type="text" name="q" class="search-bar__input" placeholder=" Search...">
<button type="submit" class="search-bar__button">
<i class="fa fa-search" aria-hidden="true"></i>
</button>
</form>
<div class="header__icons hidden-md hidden-lg hidden-xlg">
<div class="search-icon">
<button type="button" class="navbar-toggle btn">
<i class="fa fa-search search-mobile" aria-hidden="true"></i>
</button>
<div class="search-icon-bar hidden-md hidden-lg hidden-xlg">
<form action="https://www.packtpub.com/catalogsearch/result" class="">
<input type="text" name="q" class="search-icon-bar__input" placeholder=" Search...">
<button type="submit" class="search-icon-bar__button">
<i class="fa fa-search" aria-hidden="true"></i>
</button>
</form>
</div>
</div>
<button type="button" class="navbar-toggle btn">
<a href="https://account.packtpub.com/account/details" target="_blank"><i class="fa fa-user" aria-hidden="true"></i></a>
</button>
</div>
</div>
<div class="navigation__right">
<ul class="menu">
<li class="menu__item">
<a href="https://www.packtpub.com/all-products" target="_blank" class="menu__link">Browse All</a>
</li>
<li class="menu__item">
<a href="https://www.packtpub.com/free-learning" target="_blank" class="menu__link">Free Learning</a>
</li>
 <li class="menu__item">
<a href="https://account.packtpub.com/login?returnUrl=referrer" class="menu__link">Sign In</a>
</li>
<li class="menu__item menu__link">
<a href="https://subscribe.packtpub.com" target="_blank" class="nav-link-subscribe btn-primary">Subscribe</a>
</li>
</ul>
</div>
</div>
</nav>
<main class="product" itemscope itemtype="http://schema.org/Product">
<header class="product__header">
<link itemprop="url" href="https://www.packtpub.com/product/openlayers-cookbook/9781849517843">
<div class="container-full">
<div class="product__info">
<div class="breadcrumbs">
<span class="hidden-xxs">
<a href="https://www.packtpub.com/" class="breadcrumbs__link">Home</a>
<img src="/images/chevron--breadcrumb.svg" class="breadcrumbs__seperator " />
</span>
<span>
<a href="https://www.packtpub.com/application-development?released=Available" class="breadcrumbs__link">Application-development</a>
<img src="/images/chevron--breadcrumb.svg" class="breadcrumbs__seperator " />
</span>
<span class="breadcrumbs__last">OpenLayers Cookbook</span>
</div>
<div class="grid product-info main-product">
<div class="product__block">
<div class="image">
<div class="product-info__image" itemprop="image" itemscope itemtype="http://schema.org/ImageObject">
<img class="product-image" src="https://static.packt-cdn.com/products/9781849517843/cover/smaller" alt="OpenLayers Cookbook" itemprop="url" />
</div>
<div style="display:none" class="product-info__actions">
<button class="button button--small button--outline button--white button--share">Share</button>
<button class="button button--small button--outline button--white button--playlist">Add to playlist</button>
</div>
</div>
<div class="title">
<div class="product-info__content">
<h3 class="product-info__title" itemprop="name">OpenLayers Cookbook</h3>
</div>
</div>
<div class="price">
<div class="product-info__content">
<div class="product-info__rating">
<img src="/images/star--100-white.svg" class="star" />
<img src="/images/star--100-white.svg" class="star" />
<img src="/images/star--100-white.svg" class="star" />
<img src="/images/star--100-white.svg" class="star" />
<img src="/images/star--100-white.svg" class="star" />
<span>4.5</span>
<span>(2 reviews total)</span>
</div>
<span class="product-info__author">
By Antonio Santiago Perez
</span>
<ul class="price-list" itemprop="offers" itemscope itemtype="http://schema.org/Offer">
<li class="price-list__item">
<span class="price-list__price free">$5 for 5 months</span>
<span class="price-list__name">
<button class="more-info" data-tippy data-tippy-content="Access this title, plus 7,500 other titles for just $5"></button>
Subscribe
</span>
<span class="price-list__link"><a href="/checkout/subscription/packt-monthly-five-month-offer">Access now</a></span>
</li>
<li class="price-list__item">
<span class="price-list__price">
$44.99
</span>
<span class="price-list__name">
<button class="more-info" data-tippy data-tippy-content="Get a paperback copy of the book delivered to you"></button>
Print + eBook
</span>
<span class="price-list__link">
<a href="https://www.packtpub.com/buyitem/index/index/sku/9781849517843">
Buy
</a>
</span>
</li>
<li class="price-list__item" itemprop="priceCurrency" content="USD">
<span class="price-list__price">
<span class="price-list__special" itemprop="price" content="5">
$5.00
</span>
<span class="price-list__old">Was
<span class="price-list__old__line-through">
$26.99
</span>
</span>
</span>
<span class="price-list__name">
<button class="more-info" data-tippy data-tippy-content="All of our eBooks are supplied in PDF, EPUB, MOBI formats and are always DRM free"></button>
eBook
</span>
<span class="price-list__link">
<a href="https://www.packtpub.com/buyitem/index/index/sku/9781849517850">
Buy
</a>
 </span>
</li>
</ul>
<ul class="bullet-list">
<li>Instant online access to over 7,500+ books and videos</li>
<li>Constantly updated with 100+ new titles each month</li>
<li>Breadth and depth in over 1,000+ technologies</li>
</ul>
<div class="product-info__buttons">
<a href="/checkout/subscription/packt-monthly-five-month-offer" class="button button--main">Access now</a>
<a href="https://account.packtpub.com/login?returnUrl=referrer" class="button button--outline button--white">Or Sign In</a> </div>
</div>
</div>
</div>
</div>
</div>
<div class="product__chapters" id="style-white">
<ol class="accordion accordion--chapters" id="accordion-toc">
<li class="accordion__item">
<a href="#" class="accordion__title " data-toggle="collapse" data-target="#collapse0" aria-expanded=" true " aria-controls="collapse0" onclick="return false;">
<h5>Web Mapping Basics</h5>
</a>
<div class="accordion__content collapse  show " id="collapse0" data-parent="#accordion-toc">
<ul class="links">
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/1" data-chapter="0" data-section="0" class="links__item toc-index" onclick="return pp.navigate(this, 0);" target="_blank">
Web Mapping Basics
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/1/ch01lvl1sec08/introduction" data-chapter="0" data-section="1" class="links__item toc-index" onclick="return pp.navigate(this, 1);" target="_blank">
Introduction
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/1/ch01lvl1sec09/creating-a-simple-full-screen-map" data-chapter="0" data-section="2" class="links__item toc-index" onclick="return pp.navigate(this, 2);" target="_blank">
Creating a simple full screen map
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/1/ch01lvl1sec10/different-ways-to-include-openlayers" data-chapter="0" data-section="3" class="links__item toc-index" onclick="return pp.navigate(this, 3);" target="_blank">
Different ways to include OpenLayers
</a>
</li>
<li>
 <a href="https://subscription.packtpub.com/book/application-development/9781849517843/1/ch01lvl1sec11/understanding-base-and-non-base-layers" data-chapter="0" data-section="4" class="links__item toc-index" onclick="return pp.navigate(this, 4);" target="_blank">
Understanding base and non-base layers
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/1/ch01lvl1sec12/avoiding-the-need-of-a-base-layer" data-chapter="0" data-section="5" class="links__item toc-index" onclick="return pp.navigate(this, 5);" target="_blank">
Avoiding the need of a base layer
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/1/ch01lvl1sec13/playing-with-the-map-s-options" data-chapter="0" data-section="6" class="links__item toc-index" onclick="return pp.navigate(this, 6);" target="_blank">
Playing with the map&#039;s options
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/1/ch01lvl1sec14/managing-map-s-stack-layers" data-chapter="0" data-section="7" class="links__item toc-index" onclick="return pp.navigate(this, 7);" target="_blank">
Managing map&#039;s stack layers
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/1/ch01lvl1sec15/managing-map-s-controls" data-chapter="0" data-section="8" class="links__item toc-index" onclick="return pp.navigate(this, 8);" target="_blank">
Managing map&#039;s controls
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/1/ch01lvl1sec16/moving-around-the-map-view" data-chapter="0" data-section="9" class="links__item toc-index" onclick="return pp.navigate(this, 9);" target="_blank">
Moving around the map view
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/1/ch01lvl1sec17/restricting-the-map-extent" data-chapter="0" data-section="10" class="links__item toc-index" onclick="return pp.navigate(this, 10);" target="_blank">
Restricting the map extent
</a>
</li>
 </ul>
</div>
</li>
<li class="accordion__item">
<a href="#" class="accordion__title  collapsed " data-toggle="collapse" data-target="#collapse1" aria-expanded=" false " aria-controls="collapse0" onclick="return false;">
<h5>Adding Raster Layers</h5>
</a>
<div class="accordion__content collapse " id="collapse1" data-parent="#accordion-toc">
<ul class="links">
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/2" data-chapter="1" data-section="0" class="links__item toc-index" onclick="return pp.navigate(this, 0);" target="_blank">
Adding Raster Layers
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/2/ch02lvl1sec18/introduction" data-chapter="1" data-section="1" class="links__item toc-index" onclick="return pp.navigate(this, 1);" target="_blank">
Introduction
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/2/ch02lvl1sec19/using-google-maps-imagery" data-chapter="1" data-section="2" class="links__item toc-index" onclick="return pp.navigate(this, 2);" target="_blank">
Using Google Maps imagery
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/2/ch02lvl1sec20/using-bing-imagery" data-chapter="1" data-section="3" class="links__item toc-index" onclick="return pp.navigate(this, 3);" target="_blank">
Using Bing imagery
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/2/ch02lvl1sec21/adding-wms-layer" data-chapter="1" data-section="4" class="links__item toc-index" onclick="return pp.navigate(this, 4);" target="_blank">
Adding WMS layer
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/2/ch02lvl1sec22/wrapping-the-date-line-options" data-chapter="1" data-section="5" class="links__item toc-index" onclick="return pp.navigate(this, 5);" target="_blank">
Wrapping the date line options
 </a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/2/ch02lvl1sec23/changing-the-zoom-effect" data-chapter="1" data-section="6" class="links__item toc-index" onclick="return pp.navigate(this, 6);" target="_blank">
Changing the zoom effect
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/2/ch02lvl1sec24/changing-the-layer-opacity" data-chapter="1" data-section="7" class="links__item toc-index" onclick="return pp.navigate(this, 7);" target="_blank">
Changing the layer opacity
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/2/ch02lvl1sec25/using-wms-with-single-tile-mode" data-chapter="1" data-section="8" class="links__item toc-index" onclick="return pp.navigate(this, 8);" target="_blank">
Using WMS with single tile mode
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/2/ch02lvl1sec26/buffering-the-layer-data-to-improve-the-map-navigation" data-chapter="1" data-section="9" class="links__item toc-index" onclick="return pp.navigate(this, 9);" target="_blank">
Buffering the layer data to improve the map navigation
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/2/ch02lvl1sec27/creating-an-image-layer" data-chapter="1" data-section="10" class="links__item toc-index" onclick="return pp.navigate(this, 10);" target="_blank">
Creating an image layer
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/2/ch02lvl1sec28/setting-the-tile-size-in-wms-layers" data-chapter="1" data-section="11" class="links__item toc-index" onclick="return pp.navigate(this, 11);" target="_blank">
Setting the tile size in WMS layers
</a>
</li>
</ul>
</div>
</li>
<li class="accordion__item">
<a href="#" class="accordion__title  collapsed " data-toggle="collapse" data-target="#collapse2" aria-expanded=" false " aria-controls="collapse0" onclick="return false;">
<h5>Working with Vector Layers</h5>
</a>
<div class="accordion__content collapse " id="collapse2" data-parent="#accordion-toc">
<ul class="links">
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/3" data-chapter="2" data-section="0" class="links__item toc-index" onclick="return pp.navigate(this, 0);" target="_blank">
Working with Vector Layers
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/3/ch03lvl1sec29/introduction" data-chapter="2" data-section="1" class="links__item toc-index" onclick="return pp.navigate(this, 1);" target="_blank">
Introduction
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/3/ch03lvl1sec30/adding-a-gml-layer" data-chapter="2" data-section="2" class="links__item toc-index" onclick="return pp.navigate(this, 2);" target="_blank">
Adding a GML layer
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/3/ch03lvl1sec31/adding-a-kml-layer" data-chapter="2" data-section="3" class="links__item toc-index" onclick="return pp.navigate(this, 3);" target="_blank">
Adding a KML layer
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/3/ch03lvl1sec32/creating-features-programmatically" data-chapter="2" data-section="4" class="links__item toc-index" onclick="return pp.navigate(this, 4);" target="_blank">
Creating features programmatically
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/3/ch03lvl1sec33/reading-and-creating-features-from-a-wkt" data-chapter="2" data-section="5" class="links__item toc-index" onclick="return pp.navigate(this, 5);" target="_blank">
Reading and creating features from a WKT
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/3/ch03lvl1sec34/adding-markers-to-the-map" data-chapter="2" data-section="6" class="links__item toc-index" onclick="return pp.navigate(this, 6);" target="_blank">
Adding markers to the map
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/3/ch03lvl1sec35/using-point-features-as-markers" data-chapter="2" data-section="7" class="links__item toc-index" onclick="return pp.navigate(this, 7);" target="_blank">
Using point features as markers
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/3/ch03lvl1sec36/working-with-popups" data-chapter="2" data-section="8" class="links__item toc-index" onclick="return pp.navigate(this, 8);" target="_blank">
Working with popups
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/3/ch03lvl1sec37/adding-features-from-a-wfs-server" data-chapter="2" data-section="9" class="links__item toc-index" onclick="return pp.navigate(this, 9);" target="_blank">
Adding features from a WFS server
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/3/ch03lvl1sec38/using-the-cluster-strategy" data-chapter="2" data-section="10" class="links__item toc-index" onclick="return pp.navigate(this, 10);" target="_blank">
Using the cluster strategy
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/3/ch03lvl1sec39/filtering-features-in-wfs-requests" data-chapter="2" data-section="11" class="links__item toc-index" onclick="return pp.navigate(this, 11);" target="_blank">
Filtering features in WFS requests
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/3/ch03lvl1sec40/reading-features-directly-using-protocols" data-chapter="2" data-section="12" class="links__item toc-index" onclick="return pp.navigate(this, 12);" target="_blank">
Reading features directly using Protocols
</a>
</li>
</ul>
</div>
 </li>
<li class="accordion__item">
<a href="#" class="accordion__title  collapsed " data-toggle="collapse" data-target="#collapse3" aria-expanded=" false " aria-controls="collapse0" onclick="return false;">
<h5>Working with Events</h5>
</a>
<div class="accordion__content collapse " id="collapse3" data-parent="#accordion-toc">
<ul class="links">
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/4" data-chapter="3" data-section="0" class="links__item toc-index" onclick="return pp.navigate(this, 0);" target="_blank">
Working with Events
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/4/ch04lvl1sec41/introduction" data-chapter="3" data-section="1" class="links__item toc-index" onclick="return pp.navigate(this, 1);" target="_blank">
Introduction
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/4/ch04lvl1sec42/creating-a-side-by-side-map-comparator" data-chapter="3" data-section="2" class="links__item toc-index" onclick="return pp.navigate(this, 2);" target="_blank">
Creating a side-by-side map comparator
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/4/ch04lvl1sec43/implementing-a-work-in-progress-indicator-for-map-layers" data-chapter="3" data-section="3" class="links__item toc-index" onclick="return pp.navigate(this, 3);" target="_blank">
Implementing a work in progress indicator for map layers
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/4/ch04lvl1sec44/listening-for-vector-layer-features-events" data-chapter="3" data-section="4" class="links__item toc-index" onclick="return pp.navigate(this, 4);" target="_blank">
Listening for vector layer features&#039; events
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/4/ch04lvl1sec45/listening-for-non-openlayers-events" data-chapter="3" data-section="5" class="links__item toc-index" onclick="return pp.navigate(this, 5);" target="_blank">
Listening for non-OpenLayers events
</a>
</li>
</ul>
</div>
</li>
<li class="accordion__item">
<a href="#" class="accordion__title  collapsed " data-toggle="collapse" data-target="#collapse4" aria-expanded=" false " aria-controls="collapse0" onclick="return false;">
<h5>Adding Controls</h5>
</a>
<div class="accordion__content collapse " id="collapse4" data-parent="#accordion-toc">
<ul class="links">
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/5" data-chapter="4" data-section="0" class="links__item toc-index" onclick="return pp.navigate(this, 0);" target="_blank">
Adding Controls
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/5/ch05lvl1sec46/introduction" data-chapter="4" data-section="1" class="links__item toc-index" onclick="return pp.navigate(this, 1);" target="_blank">
Introduction
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/5/ch05lvl1sec47/adding-and-removing-controls" data-chapter="4" data-section="2" class="links__item toc-index" onclick="return pp.navigate(this, 2);" target="_blank">
Adding and removing controls
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/5/ch05lvl1sec48/adding-a-navigation-history-control" data-chapter="4" data-section="3" class="links__item toc-index" onclick="return pp.navigate(this, 3);" target="_blank">
Adding a navigation history control
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/5/ch05lvl1sec49/working-with-geolocation" data-chapter="4" data-section="4" class="links__item toc-index" onclick="return pp.navigate(this, 4);" target="_blank">
Working with geolocation
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/5/ch05lvl1sec50/placing-controls-outside-the-map" data-chapter="4" data-section="5" class="links__item toc-index" onclick="return pp.navigate(this, 5);" target="_blank">
Placing controls outside the map
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/5/ch05lvl1sec51/editing-features-on-multiple-vector-layers" data-chapter="4" data-section="6" class="links__item toc-index" onclick="return pp.navigate(this, 6);" target="_blank">
Editing features on multiple vector layers
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/5/ch05lvl1sec52/modifying-features" data-chapter="4" data-section="7" class="links__item toc-index" onclick="return pp.navigate(this, 7);" target="_blank">
Modifying features
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/5/ch05lvl1sec53/measuring-distances-and-areas" data-chapter="4" data-section="8" class="links__item toc-index" onclick="return pp.navigate(this, 8);" target="_blank">
Measuring distances and areas
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/5/ch05lvl1sec54/getting-feature-information-from-data-source" data-chapter="4" data-section="9" class="links__item toc-index" onclick="return pp.navigate(this, 9);" target="_blank">
Getting feature information from data source
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/5/ch05lvl1sec55/getting-information-from-the-wms-server" data-chapter="4" data-section="10" class="links__item toc-index" onclick="return pp.navigate(this, 10);" target="_blank">
Getting information from the WMS server
</a>
</li>
</ul>
</div>
</li>
<li class="accordion__item">
<a href="#" class="accordion__title  collapsed " data-toggle="collapse" data-target="#collapse5" aria-expanded=" false " aria-controls="collapse0" onclick="return false;">
<h5>Theming</h5>
</a>
<div class="accordion__content collapse " id="collapse5" data-parent="#accordion-toc">
<ul class="links">
 <li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/6" data-chapter="5" data-section="0" class="links__item toc-index" onclick="return pp.navigate(this, 0);" target="_blank">
Theming
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/6/ch06lvl1sec56/introduction" data-chapter="5" data-section="1" class="links__item toc-index" onclick="return pp.navigate(this, 1);" target="_blank">
Introduction
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/6/ch06lvl1sec57/understanding-how-themes-work-using-the-img-folder" data-chapter="5" data-section="2" class="links__item toc-index" onclick="return pp.navigate(this, 2);" target="_blank">
Understanding how themes work using the img folder
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/6/ch06lvl1sec58/understanding-how-themes-work-using-the-theme-folder" data-chapter="5" data-section="3" class="links__item toc-index" onclick="return pp.navigate(this, 3);" target="_blank">
Understanding how themes work using the theme folder
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/6/ch06lvl1sec59/delimiting-tiles-in-a-raster-layer" data-chapter="5" data-section="4" class="links__item toc-index" onclick="return pp.navigate(this, 4);" target="_blank">
Delimiting tiles in a raster layer
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/6/ch06lvl1sec60/creating-a-new-openlayers-theme" data-chapter="5" data-section="5" class="links__item toc-index" onclick="return pp.navigate(this, 5);" target="_blank">
Creating a new OpenLayers theme
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/6/ch06lvl1sec61/starting-actions-outside-the-controls" data-chapter="5" data-section="6" class="links__item toc-index" onclick="return pp.navigate(this, 6);" target="_blank">
Starting actions outside the controls
</a>
 </li>
</ul>
</div>
</li>
<li class="accordion__item">
<a href="#" class="accordion__title  collapsed " data-toggle="collapse" data-target="#collapse6" aria-expanded=" false " aria-controls="collapse0" onclick="return false;">
<h5>Styling Features</h5>
</a>
<div class="accordion__content collapse " id="collapse6" data-parent="#accordion-toc">
<ul class="links">
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/7" data-chapter="6" data-section="0" class="links__item toc-index" onclick="return pp.navigate(this, 0);" target="_blank">
Styling Features
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/7/ch07lvl1sec62/introduction" data-chapter="6" data-section="1" class="links__item toc-index" onclick="return pp.navigate(this, 1);" target="_blank">
Introduction
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/7/ch07lvl1sec63/styling-features-using-symbolizers" data-chapter="6" data-section="2" class="links__item toc-index" onclick="return pp.navigate(this, 2);" target="_blank">
Styling features using symbolizers
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/7/ch07lvl1sec64/improving-style-using-stylemap-and-the-replacement-of-feature-s-attributes" data-chapter="6" data-section="3" class="links__item toc-index" onclick="return pp.navigate(this, 3);" target="_blank">
Improving style using StyleMap and the replacement of feature&#039;s attributes
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/7/ch07lvl1sec65/playing-with-stylemap-and-the-render-intents" data-chapter="6" data-section="4" class="links__item toc-index" onclick="return pp.navigate(this, 4);" target="_blank">
Playing with StyleMap and the render intents
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/7/ch07lvl1sec66/working-with-unique-value-rules" data-chapter="6" data-section="5" class="links__item toc-index" onclick="return pp.navigate(this, 5);" target="_blank">
Working with unique value rules
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/7/ch07lvl1sec67/defining-custom-rules-to-style-features" data-chapter="6" data-section="6" class="links__item toc-index" onclick="return pp.navigate(this, 6);" target="_blank">
Defining custom rules to style features
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/7/ch07lvl1sec68/styling-clustered-features" data-chapter="6" data-section="7" class="links__item toc-index" onclick="return pp.navigate(this, 7);" target="_blank">
Styling clustered features
</a>
</li>
</ul>
</div>
</li>
<li class="accordion__item">
<a href="#" class="accordion__title  collapsed " data-toggle="collapse" data-target="#collapse7" aria-expanded=" false " aria-controls="collapse0" onclick="return false;">
<h5>Beyond the Basics</h5>
</a>
<div class="accordion__content collapse " id="collapse7" data-parent="#accordion-toc">
<ul class="links">
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/8" data-chapter="7" data-section="0" class="links__item toc-index" onclick="return pp.navigate(this, 0);" target="_blank">
Beyond the Basics
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/8/ch08lvl1sec69/introduction" data-chapter="7" data-section="1" class="links__item toc-index" onclick="return pp.navigate(this, 1);" target="_blank">
Introduction
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/8/ch08lvl1sec70/working-with-projections" data-chapter="7" data-section="2" class="links__item toc-index" onclick="return pp.navigate(this, 2);" target="_blank">
Working with projections
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/8/ch08lvl1sec71/retrieving-remote-data-with-openlayers-request" data-chapter="7" data-section="3" class="links__item toc-index" onclick="return pp.navigate(this, 3);" target="_blank">
Retrieving remote data with OpenLayers.Request
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/8/ch08lvl1sec72/creating-a-custom-control" data-chapter="7" data-section="4" class="links__item toc-index" onclick="return pp.navigate(this, 4);" target="_blank">
Creating a custom control
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/8/ch08lvl1sec73/creating-a-custom-renderer" data-chapter="7" data-section="5" class="links__item toc-index" onclick="return pp.navigate(this, 5);" target="_blank">
Creating a custom renderer
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/8/ch08lvl1sec74/selecting-features-intersecting-with-a-line" data-chapter="7" data-section="6" class="links__item toc-index" onclick="return pp.navigate(this, 6);" target="_blank">
Selecting features intersecting with a line
</a>
</li>
<li>
<a href="https://subscription.packtpub.com/book/application-development/9781849517843/8/ch08lvl1sec75/making-an-animation-with-image-layers" data-chapter="7" data-section="7" class="links__item toc-index" onclick="return pp.navigate(this, 7);" target="_blank">
Making an animation with image layers
</a>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</header>
<section class="product__overview">
<div class="container-full container-full--small overview">
<div class="row">
<div class="col-sm-8">
<div class="overview__excerpt">
<h4>About this book</h4>
<div class="overview__body" itemprop="description">
<p>Data visualization and analysis has become an important task for many companies. Understanding the basic concepts of GIS and knowing how to visualize data on a map is a required ability for many professionals today. OpenLayers is a JavaScript library to load, display, and render maps from multiple sources on web pages.<br /><br />"OpenLayers Cookbook" teaches how to work with OpenLayers, one of the most important and complete open source JavaScript libraries.<br />Through an extensive set of recipes, this book shows how to work with the main concepts required to build a GIS web application– maps, raster and vector layers, styling, theming, and so on.<br /><br />"OpenLayers Cookbook" includes problem solving and how-to recipes for the most common and important tasks. A wide range of topics are covered.<br /><br />The range of recipes includes: creating basic maps, working with raster and vector layers, understanding events and working with main controls, reading features from different data sources, styling features, and understanding the underlying architecture.<br /><br />"OpenLayers Cookbook" describes solutions and optimizations to problems commonly found.</p>
</div>
</div>
</div>
<div class="col-md-4">
<dl class="datalist overview__datalist">
<div class="datalist__item">
<dt class="datalist__name">Publication date:</dt>
<dd class="datalist__value">August 2012</dd>
</div>
<div class="datalist__item">
<dt class="datalist__name">Publisher</dt>
<dd class="datalist__value">Packt</dd>
</div>
<div class="datalist__item">
<dt class="datalist__name">Pages</dt>
<dd class="datalist__value">300</dd>
</div>
<div class="datalist__item">
<dt class="datalist__name">ISBN</dt>
<dd class="datalist__value" itemprop="gtin13">9781849517843</dd>
</div>
</dl>
</div>
</div>
<hr />
<div style="display:none" class="overview overview__tags">
<h4>Related Tags:</h4>
<a href="#" class="pill pill--margin">New Releases</a>
<a href="#" class="pill pill--margin">Django</a>
<a href="#" class="pill pill--margin">AJAX</a>
<a href="#" class="pill pill--margin">Web Development</a>
<a href="#" class="pill pill--margin">Most Popular</a>
</div>
</div>
</section>
<article class="product__preview container">
<div class="container-full container-full--small book-content">
<a name="book-section-0">&nbsp;</a>
<div id="book-section-0">
<div class="chapter" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="ch01"></a>Chapter&Acirc;&nbsp;1.&Acirc;&nbsp;Web Mapping Basics</h2></div></div></div><p>In this chapter we cover:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Creating a simple full screen map</p></li><li style="list-style-type: disc"><p>Different ways to include OpenLayers</p></li><li style="list-style-type: disc"><p>Understanding base and non-base layers</p></li><li style="list-style-type: disc"><p>Avoiding the need of a base layer</p></li><li style="list-style-type: disc"><p>Playing with the map's options</p></li><li style="list-style-type: disc"><p>Managing map's stack layers</p></li><li style="list-style-type: disc"><p>Managing map's controls</p></li><li style="list-style-type: disc"><p>Moving around the map view</p></li><li style="list-style-type: disc"><p>Restricting the map extent</p></li></ul></div></div>
</div>
<a name="book-section-1">&nbsp;</a>
<div id="book-section-1">
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec08"></a>Introduction</h2></div></div><hr></div><p>Every history has a beginning, in the same way every recipe starts with the initial condiments.</p><p>This chapter shows us the basics and more important things that we need to know when we start creating our first web mapping applications with OpenLayers.</p><p>As we will see in this chapter and the following chapters, OpenLayers is a big and complex framework but, at the same time it is also very powerful and flexible.</p><p>In contrast to other libraries, such as the nice but much more simple Leaflet project (<a class="ulink" href="http://leaflet.cloudmade.com" target="_blank">http://leaflet.cloudmade.com</a>) library, OpenLayers tries to implement all the required things a developer could need to create a web GIS application. That is, not only GIS related concepts such as map, layer, or standard formats but also manipulation of document elements or helper functions to make asynchronous requests.</p><p>Trivializing, we have described a big picture of the framework in the next paragraph.</p><p>The main concept in OpenLayers is the map. It represents the view where information is rendered. The map can contain any number of layers, which can be the raster or vector layer. On its way, each layer has a data source that serves data with its own format: a PNG image, a KML file, and so on. In addition, the map can contain controls, which help to interact with the map and its contents: pan, zoom, feature selection, and so on.</p><p>Let's get started with learning OpenLayers by examples.</p></div>
</div>
<a name="book-section-2">&nbsp;</a>
<div id="book-section-2">
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec09"></a>Creating a simple full screen map</h2></div></div><hr></div><p>When you work in mapping applications, the first and important task is the creation of the map itself. The map is the core of your application and it is where you will add and visualize data.</p><p>This recipe will guide you through the process of creating our first and very simple web map application.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note03"></a>Note</h3><p>It is supposed that a web server is configured and ready. Remember our recipes are nothing more than HTML, CSS, and JavaScript code and because of this we need a web server that serves them to be interpreted on the browser's side.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec08"></a>Getting ready</h3></div></div></div><p>Programming with OpenLayers is mainly related to writing HTML code and, of course, JavaScript code. So, we simply need a text editor to start coding our recipes.</p><p>There exist plenty of great text editors, many of them with web programming capabilities. Because we are going to start exploring an open source project such as OpenLayers we will refer to a couple of great open projects.</p><p>For Windows users, Notepad++ (<a class="ulink" href="http://notepad-plus-plus.org" target="_blank">http://notepad-plus-plus.org</a>) is a great alternative to the default text editor. It is simple and quick, offers syntax highlighting, and addition of plugins to extend capabilities.</p><p>On the other hand, instead of text editors you can find complete development frameworks with support for web development, not only with syntax highlighting but with autocomplete, code navigation, and many more.</p><p>In this group, two projects are the stars within the open source projects universe: Eclipse (<a class="ulink" href="http://www.eclipse.org" target="_blank">http://www.eclipse.org</a>) and NetBeans (<a class="ulink" href="http://netbeans.org" target="_blank">http://netbeans.org</a>). Both are Java-based projects and run on any platform.</p><p>You can find the source code at <code class="literal">recipe/ch01/ch01_simple_map_book.html</code> file.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec09"></a>How to do it...</h3></div></div></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Let's start by creating a new empty <code class="literal">index.html</code> file and inserting the following block of code in it. We will explain it step-by-step in the next section:</p><div class="informalexample"><pre class="programlisting">&lt;!DOCTYPE html&gt; 
&lt;html&gt; 
    &lt;head&gt; 
        &lt;title&gt;Creating a simple map&lt;/title&gt; 
        &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt; 
        
        &lt;!-- Include OpenLayers library --&gt; 
        &lt;script type="text/javascript" src="http://openlayers.org/api/2.11/OpenLayers.js"&gt;&lt;/script&gt; 
        &lt;style&gt; 
            html, body { 
                width: 100%; 
                height: 100%; 
                margin: 0; 
                padding: 0; 
            } 
        &lt;/style&gt; 

        &lt;!-- The magic comes here --&gt; 
        &lt;script type="text/javascript"&gt; 
            function init() { 
                // Create the map using the specified // DOM element 
                var map = new OpenLayers.Map("rcp1_map"); 
    
                // Create an OpenStreeMap raster layer // and add to the map 
                var osm = new OpenLayers.Layer.OSM(); 
                map.addLayer(osm); 
    
                // Set view to zoom maximum map extent 
                map.zoomToMaxExtent(); 
            } 
        &lt;/script&gt; 
    &lt;/head&gt; 
    &lt;body onload="init()"&gt; 
        &lt;div id="rcp1_map" style="width: 100%; height: 100%;"&gt;&lt;/div&gt; 
    &lt;/body&gt; 
&lt;/html&gt;</pre></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip01"></a>Tip</h3><p><span class="strong"><strong>Downloading the example code</strong></span></p><p>You can download the example code files for all Packt books you have purchased from your account at <a class="ulink" href="http://www.packtpub.com" target="_blank">http://www.packtpub.com</a>. If you purchased this book elsewhere, you can visit <a class="ulink" href="http://www.packtpub.com/support" target="_blank">http://www.packtpub.com/support</a> and register to have the files e-mailed directly to you.</p></div></li><li><p>Open the file in your browser and see the result. You will see a whole screen map with some controls on the top-left corner, as shown in the following screenshot:</p><div class="mediaobject"><img src="https://static.packt-cdn.com/products/9781849517843/graphics/7843_01_01.jpg"></div></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec10"></a>How it works...</h3></div></div></div><p>Let us explain the mystery step-by-step. First, we created a HTML5 document, see the <code class="literal">doctype</code> declaration code <code class="literal">&lt;!DOCTYPE html&gt;</code>.</p><p>In the <code class="literal">head</code> section, we have included a reference to the OpenLayers library using a <code class="literal">script</code> element, as follows:</p><div class="informalexample"><pre class="programlisting">&lt;script type="text/javascript" src="http://openlayers.org/api/2.11/OpenLayers.js"&gt;&lt;/script&gt;</pre></div><p>We have added a <code class="literal">style</code> element to force the document to occupy the whole page, as follows:</p><div class="informalexample"><pre class="programlisting">&lt;style&gt; 
    html, body { 
        width: 100%; 
        height: 100%; 
        margin: 0; 
        padding: 0; 
    } 
&lt;/style&gt;</pre></div><p>After the <code class="literal">style</code> element comes the <code class="literal">script</code> element with some JavaScript code, but we will explain it at the end.</p><p>After the <code class="literal">head</code> section starts the <code class="literal">body</code> section. Our <code class="literal">body</code> has an <code class="literal">onload</code> event associated to it. This means, once the whole content of the <code class="literal">body</code> section is completely loaded by the browser, the <code class="literal">init()</code> function will be called:</p><div class="informalexample"><pre class="programlisting">&lt;body onload="init()"&gt;</pre></div><p>Finally, within the body we have put a <code class="literal">div</code> element with the identifier <code class="literal">rcp1_map</code>, which will be used by OpenLayers to render the map.</p><p>Again, we force the element to fill the entire parent's space:</p><div class="informalexample"><pre class="programlisting">&lt;div id="rcp1_map" style="width: 100%; height: 100%;"&gt;&lt;/div&gt;</pre></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip02"></a>Tip</h3><p><span class="strong"><strong>A word about styles...</strong></span></p><p>Setting the <code class="literal">div</code> element <code class="literal">width</code>/<code class="literal">height</code> to <code class="literal">100%</code> means it will fill 100 percent of the parent's space. In this case, the parent is the <code class="literal">body</code> element, which is also set to fill 100 percent of the page space. More and better information about CSS can be found at <a class="ulink" href="http://www.w3schools.com/css" target="_blank">http://www.w3schools.com/css</a>.</p></div><p>Now, let's take a look at the <code class="literal">script</code> element in the <code class="literal">head</code> section.</p><p>As we have mentioned previously, using the <code class="literal">onload</code> event we ensure the <code class="literal">init</code> function is executed once the entire <code class="literal">body</code> elements are loaded by the browser, which means we can access <code class="literal">&lt;div id="rcp1_map" ...&gt;</code> without any problem.</p><p>First we created an <code class="literal">OpenLayers.Map</code> object that will be rendered in the previously mentioned <code class="literal">div</code> element. This is achieved by passing the <code class="literal">DOM</code> element identifier in the constructor:</p><div class="informalexample"><pre class="programlisting">// Create the map using the specified DOM element 
var map = new OpenLayers.Map("rcp1_map"); </pre></div><p>Next, we created a new raster layer that will show imagery from the <code class="literal">OpenStreetMaps</code> project:</p><div class="informalexample"><pre class="programlisting">// Create an OpenStreetMap raster layer and add to the map 
var osm = new OpenLayers.Layer.OSM(); </pre></div><p>Once created we add it to the map:</p><div class="informalexample"><pre class="programlisting">map.addLayer(osm); </pre></div><p>Finally, set the <code class="literal">map</code> view to the maximum valid extent:</p><div class="informalexample"><pre class="programlisting">// Set view to zoom maximum map extent 
map.zoomToMaxExtent(); </pre></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec11"></a>There's more...</h3></div></div></div><p>Remember there is no one way to do things.</p><p>The recipes in this book have not been coded as standalone applications. Instead, to improve the user experience, we have created a rich application that allows you to choose and run the desired recipe, with the possibility to see the source code.</p><div class="mediaobject"><img src="https://static.packt-cdn.com/products/9781849517843/graphics/7843_01_09.jpg"></div><p>So the way to code the recipes in the book is slightly different, because they must be integrated with the application's design. For example, they do not require including the OpenLayers libraries because this is included in another place of the main application.</p><p>In addition, the way presented in the <span class="emphasis"><em>How to do it...</em></span> section is more oriented toward standalone applications.</p><p>If you are looking at the source code of this recipe, located at <code class="literal">recipes/ch01/ch01_simple_map.html</code>, we will see a slightly different code:</p><div class="informalexample"><pre class="programlisting">&lt;!-- Map DOM element --&gt;
&lt;div id="ch1_simple_map" style="width: 100%; height: 95%;"&gt;&lt;/div&gt;

&lt;!-- The magic comes here --&gt;
&lt;script type="text/javascript"&gt;

    // Create the map using the specified DOM element
    var map = new OpenLayers.Map("ch1_simple_map");
    
    // Create an OpenStreeMap raster layer and add to the map
    var osm = new OpenLayers.Layer.OSM();
    map.addLayer(osm);
    
    // Set view to zoom maximum map extent
    map.zoomToMaxExtent();
&lt;/script&gt;</pre></div><p>As we can see, it contains the main parts described in the previous sections. We have a <code class="literal">div</code> element to hold the map instance and a <code class="literal">script</code> element with all the required JavaScript code.</p><p>To create the rich application, we have to use the Dojo Toolkit framework (<a class="ulink" href="http://dojotoolkit.org" target="_blank">http://dojotoolkit.org</a>), which offers almost any kind of required feature: access and modification of the document object structure, event handling, internationalization, and so on. But the main reason we have chosen it is because, in addition it offers a great set of homogeneous widgets (tabs, buttons, lists, and so on) to create applications with a great look and feel.</p><p>It is beyond the scope of this book to teach Dojo but its use is so easy and specific that it will not disturb the objective of this recipe, which is to teach OpenLayers.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec12"></a>See also</h3></div></div></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Different ways to include OpenLayers</em></span> recipe</p></li><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Understanding base and non-base layers</em></span> recipe</p></li></ul></div></div></div>
</div>
<a name="book-section-3">&nbsp;</a>
<div id="book-section-3">
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec10"></a>Different ways to include OpenLayers</h2></div></div><hr></div><p>There are different ways we can include OpenLayers in our projects depending on the environment we are working in, that is development or production.</p><p>The environment refers to the server tier required for a stage in our process. In this way, the development environment is related to the development process, where programmers are working day to day, testing and checking.</p><p>Production environment refers to the final stage of the projects. It must run on stable servers and without dependency problems.</p><p>As we will see shortly, we can summarize the solutions to include OpenLayers JavaScript code in two groups, those with code hosted on a remote server or those with code hosted on our own server.</p><p>Let's start and see the pros and cons of each solution.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec13"></a>Getting ready</h3></div></div></div><p>Create a folder called <code class="literal">myProject</code> that will contain all our project files and library dependencies. Then create an <code class="literal">index.html</code> file and continue with the code given in the <span class="emphasis"><em>Creating a simple full screen map </em></span>recipe.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note04"></a>Note</h3><p>It is supposed that the project folder resides within a folder accessible by the web server folder, so it can serve its content.</p></div><p>Now download OpenLayers code from the project's web page at <a class="ulink" href="http://www.openlayers.org" target="_blank">http://www.openlayers.org</a>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note05"></a>Note</h3><p>At the time of writing this book, OpenLayers version 2.11 is the stable release, which can be found at <a class="ulink" href="http://openlayers.org/download/OpenLayers-2.11.tar.gz" target="_blank">http://openlayers.org/download/OpenLayers-2.11.tar.gz</a>.</p></div><p>Save the bundle in the <code class="literal">myProject</code> folder and uncompress it. We need to have a folder structure similar to the following screenshot:</p><div class="mediaobject"><img src="https://static.packt-cdn.com/products/9781849517843/graphics/7843_01_02.jpg"></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec14"></a>How to do it...</h3></div></div></div><p>We have three ways to include the OpenLayers library in our code:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<code class="literal">&lt;script type="text/javascript" src="</code>
<code class="literal">http://openlayers.org/api/2.11/OpenLayers.js</code>
<code class="literal">"&gt;&lt;/script&gt;</code>
</p></li><li style="list-style-type: disc"><p>
<code class="literal">&lt;sc</code>
<code class="literal">ript type="text/javascript" src="../js/OpenLayers-2.11/OpenLayers.js"&gt;&lt;/script&gt; </code>
</p></li><li style="list-style-type: disc"><p>
<code class="literal">&lt;sc</code>
<code class="literal">ript type="text/javascript" src="../js/OpenLayers-2.11/lib/OpenLayers.js"&gt;&lt;/script&gt; </code>
</p></li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec15"></a>How it works...</h3></div></div></div><p>The first option includes an all-in-one compressed file hosted at the OpenLayers project server. It is simple to use but you cannot work locally in offline mode:</p><div class="informalexample"><pre class="programlisting">&lt;script type="text/javascript" src="http://openlayers.org/api/2.11/OpenLayers.js"&gt;&lt;/script&gt;</pre></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note06"></a>Note</h3><p>The size of the compressed all-in-one file <code class="literal">OpenLayers.js</code> is nearly 1 MB, so in a production environment with lots of requests it is probably better to host this file in a Content Delivery Network or CDN (<a class="ulink" href="http://en.wikipedia.org/wiki/Content_delivery_network" target="_blank">http://en.wikipedia.org/wiki/Content_delivery_network</a>).</p></div><p>The second option is very similar to the first one, but the all-in-one compressed file is attached to the project. This option is suitable for cases in which you need OpenLayers to be in your own server with the code of your application.</p><div class="informalexample"><pre class="programlisting">&lt;script type="text/javascript" src="../js/OpenLayers-2.11/OpenLayers.js"&gt;&lt;/script&gt; </pre></div><p>Finally, the third option includes the uncompressed code of the OpenLayers library, which in fact includes many other files required by layers, controls, and so on.</p><div class="informalexample"><pre class="programlisting">&lt;script type="text/javascript" src="../js/OpenLayers-2.11/lib/OpenLayers.js"&gt;&lt;/script&gt; </pre></div><p>This option is mainly used by programmers who want to extend OpenLayers and need to debug the code.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip03"></a>Tip</h3><p>I encourage you to work in this mode. Use some tool such as Firebug for Firefox web browser or the Chrome browser console and put breakpoints on OpenLayers classes to better understand what is happening.</p></div><p>It is worth saying when using this method lots of files are loaded from the server, one per class, which means many more server requests are made.</p><p>The most notable impact of this is that the page load time is much longer than with the previous options.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec16"></a>There's more...</h3></div></div></div><p>If you choose to download OpenLayers and include it within your project, you don't need to put the whole uncompressed bundle. As you can see, it contains lots of files and folders: source code, building scripts, test code, and other tools, but only a few are really required.</p><p>In this case, the only things you need to attach are:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The all-in-one <code class="literal">OpenLayers.js</code> file</p></li><li style="list-style-type: disc"><p>The <code class="literal">theme</code> and <code class="literal">img</code> folders</p></li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec17"></a>See also</h3></div></div></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Understanding base and non-base layers</em></span> recipe</p></li><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Creating a simple full screen map</em></span> recipe</p></li></ul></div></div></div>
</div>
<a name="book-section-4">&nbsp;</a>
<div id="book-section-4">
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec11"></a>Understanding base and non-base layers</h2></div></div><hr></div><p>One of the first things you need to have clear when working with OpenLayers is the base layer concept.</p><p>A <span class="strong"><strong>base layer</strong></span> is a special kind of layer, which is always visible and determines some map properties such as projection and zoom levels.</p><p>A map can have more than one base layer but only one of them can be active at a time.</p><p>In addition, if you add more than one flagged base layer to the map, the first base layer added will be used as the map's active base layer.</p><p>This recipe will show you how to add layers to the map flagging them to be base layers. We are going to create a page with two maps side-by-side and every map will have a layer switcher control that allows you to control the map layers.</p><div class="mediaobject"><img src="https://static.packt-cdn.com/products/9781849517843/graphics/7843_01_03.jpg"></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec18"></a>Getting ready</h3></div></div></div><p>We assume you have created an <code class="literal">index.html</code> file and included the OpenLayers library as we have seen in the <span class="emphasis"><em>Different ways to include OpenLayers</em></span> recipe.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec19"></a>How to do it...</h3></div></div></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Start by creating the necessary HTML code to have both our maps side-by-side:</p><div class="informalexample"><pre class="programlisting">&lt;table style="width: 100%; height: 100%;"&gt; 
    &lt;tr&gt; 
        &lt;td&gt; 
            &lt;p&gt;Map with one non base layer:&lt;/p&gt; 
            &lt;div id="ch01_base_nonbase_map_a" style="width: 100%; height: 500px;"&gt;&lt;/div&gt; 
        &lt;/td&gt; 
        &lt;td&gt; 
            &lt;p&gt;Map with two base layers&lt;/p&gt; 
            &lt;div id="ch01_base_nonbase_map_b" style="width: 100%; height: 500px;"&gt;&lt;/div&gt; 
        &lt;/td&gt; 
    &lt;/tr&gt; 
&lt;/table&gt;</pre></div></li><li><p>After this, add a <code class="literal">script</code> element (<code class="literal">&lt;script type="text/javascript"&gt;&lt;/script&gt;</code>) with the necessary code to initialize every map. The map on the left will contain two layers, one base layer and one non-base layer:<a id="id0" class="indexterm"></a>
</p><div class="informalexample"><pre class="programlisting">// 
// Initialize left map 
// 
    
// Create the map using the specified DOM element 
var map_a = new OpenLayers.Map("ch01_base_nonbase_map_a"); 
// Add a WMS layer 
var wms = new OpenLayers.Layer.WMS("OpenLayers WMS Basic", "http://vmap0.tiles.osgeo.org/wms/vmap0", 
{ 
    layers: 'basic' 
}); 
map_a.addLayer(wms); 
// Add a WMS layer 
var topo = new OpenLayers.Layer.WMS("USA Topo Maps", "http://terraservice.net/ogcmap.ashx", 
{ 
    layers: "DRG" 
}, 
{ 
    opacity: 0.5, 
    isBaseLayer: false 
}); 
map_a.addLayer(topo); 
// Add LayerSwitcher control 
map_a.addControl(new OpenLayers.Control.LayerSwitcher()); 
           
// Set view to zoom maximum map extent 
// NOTE: This will fail if there is no base layer defined 
map_a.setCenter(new OpenLayers.LonLat(-100, 40), 5); <a id="id1" class="indexterm"></a>
</pre></div></li><li><p>The map on the right will contain two base layers:<a id="id2" class="indexterm"></a>
</p><div class="informalexample"><pre class="programlisting">// 
// Initialize right map 
// 
    
// Create the map using the specified DOM element 
var map_b = new OpenLayers.Map("ch01_base_nonbase_map_b"); 
// Add a WMS layer 
var wms = new OpenLayers.Layer.WMS("OpenLayers WMS Basic", "http://vmap0.tiles.osgeo.org/wms/vmap0", 
{ 
    layers: 'basic' 
}); 
map_b.addLayer(wms); 
// Add a WMS layer 
var topo = new OpenLayers.Layer.WMS("USA Topo Maps", "http://terraservice.net/ogcmap.ashx", 
{ 
    layers: "DRG" 
}); 
map_b.addLayer(topo); 
// Add LayerSwitcher control 
map_b.addControl(new OpenLayers.Control.LayerSwitcher()); 
           
// Set view to zoom maximum map extent 
// NOTE: This will fail if there is no base layer defined 
map_b.setCenter(new OpenLayers.LonLat(-100, 40), 5);</pre></div></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec20"></a>How it works...</h3></div></div></div><p>Let's take a look at the explanation for the map on the left. The first thing we have done is the creation of an <code class="literal">OpenLayers.Map</code> instance that will be rendered in the <code class="literal">div</code> element prepared for it, on the left side:<a id="id3" class="indexterm"></a>
<a id="id4" class="indexterm"></a>
</p><div class="informalexample"><pre class="programlisting">var map_a = new OpenLayers.Map("ch01_base_nonbase_map_a"); </pre></div><p>Next, we have created two layers and added them to the map. The magic to make the second layer a non-base layer comes with the properties specified in the constructor:</p><div class="informalexample"><pre class="programlisting">var topo = new OpenLayers.Layer.WMS("USA Topo Maps", "http://terraservice.net/ogcmap.ashx", 
{ 
    layers: "DRG" 
}, 
{ 
    opacity: 0.5, 
    isBaseLayer: false 
}); </pre></div><p>In OpenLayers, all layer classes are inherited from the base class <code class="literal">OpenLayers.Layer</code>. This class defines some properties common for all layers, such as <code class="literal">opacity</code> or <code class="literal">isBaseLayer</code>.</p><p>The Boolean <code class="literal">isBaseLayer</code> property<a id="id5" class="indexterm"></a> is used by the map to know if a layer must act as a base or non-base layer.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note07"></a>Note</h3><p>Non-base layers are also called <span class="strong"><strong>overlays</strong></span>.</p></div><p>As you can imagine, the <a id="id6" class="indexterm"></a>
<code class="literal">opacity</code> property is a float value ranging from 0.0 to 1.0 and specifies the opacity of the layer. We have set it to <code class="literal">50%</code> of the opacity to allow view through the overlay layer, that is, to be able to see the base layer.</p><p>For the right-hand map, we have added two layers without any specific property. This, by default, makes the WMS layer a base layer.</p><p>If you expand the layer switcher control, you will see that on the left map you can show/hide the overlay layer but you can't hide the base layer. In contrast, in the right map, both are base layers and they are mutually exclusive, which means only one can be active at a time.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec21"></a>There's more...</h3></div></div></div><a id="id7" class="indexterm"></a><a id="id8" class="indexterm"></a><p>When you play with the layer switcher control, an internal call is made to the map's <code class="literal">setBaseLayer(newBaseLayer)</code> method. This method is responsible for changing the active base layer used by the map.</p><p>In addition to the specify properties at construction time, you can also use the setter methods <code class="literal">setOpacity(opacity)</code> and <code class="literal">setIsBaseLayer(isBaseLayer)</code> to change the values at runtime. <a id="id9" class="indexterm"></a>
<a id="id10" class="indexterm"></a>
</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec22"></a>See also</h3></div></div></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Avoiding the need of a base layer</em></span> recipe</p></li><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Managing map's stack layers</em></span> recipe</p></li></ul></div></div></div>
</div>
<a name="book-section-5">&nbsp;</a>
<div id="book-section-5">
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec12"></a>Avoiding the need of a base layer</h2></div></div><hr></div><p>There can be situations where you don't want a base layer and only want a bunch of layers to work on.</p><p>Imagine an online GIS editor where users can add and remove layers but they are not obligated to have an always visible one.<a id="id11" class="indexterm"></a>
</p><p>This recipe shows how we can easily avoid the requirement of setting a base layer within the map.</p><div class="mediaobject"><img src="https://static.packt-cdn.com/products/9781849517843/graphics/7843_01_04.jpg"></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec23"></a>How to do it...</h3></div></div></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>As always, create a DOM element to render the map:</p><div class="informalexample"><pre class="programlisting">&lt;div id="ch1_avoid_baselayer" style="width: 100%; height: 100%;"&gt;&lt;/div&gt;</pre></div></li><li><p>Now create a new <code class="literal">OpenLayers.Map</code> instance and set the <code class="literal">allOverlays</code> property to <code class="literal">true</code>:</p><div class="informalexample"><pre class="programlisting">// Create the map using the specified DOM element 
var map = new OpenLayers.Map("ch1_avoid_baselayer", { 
    allOverlays: true 
});</pre></div></li><li><a id="id12" class="indexterm"></a><p>Add two layers to see a result. Also add the layer switcher control:</p><div class="informalexample"><pre class="programlisting">// Add a WMS layer 
var wms = new OpenLayers.Layer.WMS("OpenLayers WMS Basic","http://vmap0.tiles.osgeo.org/wms/vmap0", 
{ 
    layers: 'basic' 
}); 
map.addLayer(wms); 
// Add a WMS layer 
var topo = new OpenLayers.Layer.WMS("USA Topo Maps", "http://terraservice.net/ogcmap.ashx", 
{ 
    layers: "DRG" 
},
{ 
    opacity: 0.5 
}); 
map.addLayer(topo); 
// Add LayerSwitcher control 
map.addControl(new OpenLayers.Control.LayerSwitcher()); </pre></div></li><li><p>Center the map view to some nice place:</p><div class="informalexample"><pre class="programlisting">// Set view to zoom maximum map extent 
// NOTE: This will fail if there is no base layer defined 
map.setCenter(new OpenLayers.LonLat(-100, 40), 5);</pre></div></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec24"></a>How it works...</h3></div></div></div><a id="id13" class="indexterm"></a><p>When the map's property <code class="literal">allOverlays</code> is set to <code class="literal">true</code>, the map ignores the <code class="literal">isBaseLayer</code> property of the layers.</p><p>If you expand the layer switcher control, you will see that it contains two overlay layers, no base layer, which you can show or hide and, if desired, leave a blank map without layers.</p><p>In addition, in this recipe we have used the <code class="literal">map.setCenter()</code> method, which needs a position, an <code class="literal">OpenLayers.LonLat</code> instance, and a zoom level to work.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec25"></a>There's more...</h3></div></div></div><p>When working in the <code class="literal">allOverlays</code> mode, the lowest layer will act as base layer, although all the layers will be flagged as <code class="literal">isBaseLayer</code> is set to <code class="literal">false</code>.<a id="id14" class="indexterm"></a>
</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec26"></a>See also</h3></div></div></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Understanding base and non-base layers</em></span> recipe</p></li><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Moving around the map view</em></span> recipe</p></li><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Restricting the map extent</em></span> recipe</p></li></ul></div></div></div>
</div>
<a name="book-section-6">&nbsp;</a>
<div id="book-section-6">
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec13"></a>Playing with the map's options</h2></div></div><hr></div><p>When you create a map to visualize data, there are some important things you need to take into account: projection to use, available zoom levels, the default tile size to be used by the layer requests, and so on.</p><p>Most of these important things are enclosed in the so-called map properties and, if you work in the <code class="literal">allOverlays</code> mode, you need to take them specially into account.</p><a id="id15" class="indexterm"></a><p>This recipe shows you how to set some of the most common map properties.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec27"></a>Getting ready</h3></div></div></div><p>Before you continue, it is important to note that instances of the <code class="literal">OpenLayers.Map</code> class can be created in three ways:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Indicating the identifier of the DOM element where the map will be rendered:</p><div class="informalexample"><pre class="programlisting">var map = new OpenLayers.Map("map_id");</pre></div></li><li style="list-style-type: disc"><p>Indicating the identifier of the DOM element and also indicating a set of options:</p><div class="informalexample"><pre class="programlisting">var map = new OpenLayers.Map("map_id", {some_options_here});</pre></div></li><li style="list-style-type: disc"><p>Only indicating a set of options. This way we can later set the DOM element where the map will be rendered:</p><div class="informalexample"><pre class="programlisting">var map = new OpenLayers.Map({some_options_here});</pre></div></li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec28"></a>How to do it...</h3></div></div></div><p>Perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a DOM element to render the map:</p><div class="informalexample"><pre class="programlisting">&lt;div id="ch1_map_options" style="width: 100%; height: 100%;"&gt;&lt;/div&gt;</pre></div></li><li><p>Define some map options:</p><div class="informalexample"><pre class="programlisting">var options = { 
    div: "ch1_map_options", 
    projection: "EPSG:4326", 
    units: "dd", 
    displayProjection: new OpenLayers.Projection("EPSG:900913"),
    numZoomLevels: 7
};</pre></div></li><li><p>Create the map by passing <code class="literal">options</code>:</p><div class="informalexample"><pre class="programlisting">var map = new OpenLayers.Map(options);</pre></div></li><li><p>Add the <code class="literal">MousePosition</code> control to see the mouse position over the map:</p><div class="informalexample"><pre class="programlisting">map.addControl(new OpenLayers.Control.MousePosition());</pre></div></li><li><a id="id16" class="indexterm"></a><p>Add a WMS layer and set the map view on some desired place:</p><div class="informalexample"><pre class="programlisting">var wms = new OpenLayers.Layer.WMS("OpenLayers WMS Basic", "http://vmap0.tiles.osgeo.org/wms/vmap0", 
{ 
    layers: 'basic' 
}); 
map.addLayer(wms); 
map.setCenter(new OpenLayers.LonLat(-100, 40), 5);</pre></div></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec29"></a>How it works...</h3></div></div></div><a id="id17" class="indexterm"></a><p>In this case we have used five map options to initialize our <code class="literal">OpenLayers.Map</code> instance.</p><p>We have used the <a id="id18" class="indexterm"></a>
<code class="literal">div</code> option to pass the identifier of the DOM element where the map will be rendered: <code class="literal">div: "ch1_map_options"</code>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note08"></a>Note</h3><p>The <code class="literal">OpenLayers.Map</code> class uses some default values for most of its options: <code class="literal">projection="EPSG:4326"</code>, <code class="literal">units="degrees"</code>, and so on.</p></div><p>The <a id="id19" class="indexterm"></a>
<code class="literal">projection</code> option is used to set the projection used by the map to render data from layers: <code class="literal">projection: "EPSG:4326"</code>. Take into account it must be a string with the projection code. On other classes or options it can also be an <code class="literal">OpenLayers.Projection</code> instance.</p><p>There are some implications with the map's projection. Firstly, the tiles to fill WMS layers will be requested using the map's projection, if no other projection is explicitly used by the layer. So you need to be sure the WMS server accepts the projection. Secondly, data from vector layers will be translated from the specific projection of every vector layer to the map's projection, so you will need to set the vector layer's projection options while creating them.<a id="id20" class="indexterm"></a>
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note09"></a>Note</h3><p>For translations other than <code class="literal">EPSG:4326</code> and <code class="literal">EPSG:900913</code>, you need to include the <code class="literal">Proj4js</code> project (<a class="ulink" href="http://proj4js.org" target="_blank">http://proj4js.org</a>) in your web application.</p><p>Teaching map projections is beyond the scope of this book. A great description can be found on Wikipedia (<a class="ulink" href="http://en.wikipedia.org/wiki/Map_projection" target="_blank">http://en.wikipedia.org/wiki/Map_projection</a>). </p><p>EPSG codes are a way to name and classify the set of available projections. The site Spatial Reference (<a class="ulink" href="http://spatialreference.org" target="_blank">http://spatialreference.org</a>) is a great place to find more information about them.</p></div><p>The <code class="literal">units</code> option<a id="id21" class="indexterm"></a> specifies that the units used by the map are decimal degrees: <code class="literal">units: "dd"</code>. This option is related to some resolution options.</p><p>The <a id="id22" class="indexterm"></a>
<code class="literal">displayProjection</code> option allows us to specify the projection that must be used to show the mouse position: <code class="literal">displayProjection: new OpenLayers.Projection("EPSG:900913")</code>. In this case, our map is in the <code class="literal">EPSG:4326</code> projection, also known as <code class="literal">WGS84</code>, with degree units but we show mouse position in <code class="literal">EPSG:900913</code>, also known as <a id="id23" class="indexterm"></a>
<span class="strong"><strong>Spherical Mercator</strong></span>, which is in meter unit coordinates.</p><p>Finally, the <code class="literal">numZoomLevels</code> sets the number of available zoom levels the user can change. A value of <code class="literal">7</code> means the user can go from <span class="emphasis"><em>zoom level 0</em></span> to <span class="emphasis"><em>zoom level 6</em></span>.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec30"></a>There's more...</h3></div></div></div><p>Imagery from sources such as Google Maps or OpenStreetMap are special cases where the pyramid of images is previously created with the Spherical Mercator projection &acirc;&#128;&#147; EPSG:900913. This means you can't set the projection when requesting tiles because it is implicit.</p><p>If you put a layer in a different projection other than the one used by the map, it will be automatically disabled.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec31"></a>See also</h3></div></div></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Understanding base and non-base layers</em></span>, recipe </p></li><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Managing map's stack layers</em></span>, recipe</p></li><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Managing map's controls</em></span>, recipe</p></li><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Working with projections</em></span>, recipe in <a class="link" href="#" linkend="ch08">Chapter 8</a>, <span class="emphasis"><em>Beyond the Basics</em></span>.</p></li></ul></div></div></div>
</div>
<a name="book-section-7">&nbsp;</a>
<div id="book-section-7">
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec14"></a>Managing map's stack layers</h2></div></div><hr></div><p>Map is the core concept in OpenLayers. It allows us to visualize information from different kinds of layers and brings us methods to manage layers attached to it.</p><a id="id24" class="indexterm"></a><p>In this recipe, we will learn how to control layers. This is important because add, remove, or reorder layers are very common operations we need to do on almost every web mapping application.</p><div class="mediaobject"><img src="https://static.packt-cdn.com/products/9781849517843/graphics/7843_01_05.jpg"></div><p>The application will show a map on the left and a control panel on the right, with some buttons to control the layers.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note10"></a>Note</h3><p>Remember we have used the Dojo toolkit framework (<a class="ulink" href="http://dojotoolkit.org" target="_blank">http://dojotoolkit.org</a>) to code a nicer and richer application to show the recipes of this book.</p><p>Because of this, you can see strange attributes in the HTML elements such as <code class="literal">dojoType="dijit.form.Button"</code> or <code class="literal">onClick="topLayer"</code>. Do not worry about it, there is no impact in the OpenLayers code we are covering in this book.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec32"></a>How to do it...</h3></div></div></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Start by creating an <code class="literal">index.html</code> file to put the code needed to create the application layout. We place it within a table. On the left we put the map: <a id="id25" class="indexterm"></a>
</p><div class="informalexample"><pre class="programlisting">&lt;table class="tm"&gt; 
    &lt;tr&gt; 
        &lt;td class="left"&gt; 
            &lt;div id="ch1_managing_layers" style="width: 100%; height: 500px;"&gt;&lt;/div&gt; 
        &lt;/td&gt; </pre></div></li><li><p>And, on the right we put the controls:</p><div class="informalexample"><pre class="programlisting">        &lt;td class="right"&gt; 
            &lt;p&gt;Maximize the layer switcher control to see the map layers and move it clicking the buttons:&lt;/p&gt; 

            &lt;table class="tb"&gt; 
                &lt;tr&gt; 
                    &lt;td&gt;Select layer:&lt;/td&gt; 
                    &lt;td&gt; 
                        &lt;select id="layerSelection" data-dojo-type="dijit.form.Select"&gt; 
                            &lt;option value="JPL"&gt;JPL&lt;/option&gt; 
                            &lt;option value="WorldMap"&gt;WorldMap&lt;/option&gt; 
                            &lt;option value="Canada"&gt;Canada&lt;/option&gt; 
                        &lt;/select&gt; 
                    &lt;/td&gt; 
                &lt;/tr&gt; 
                &lt;tr&gt; 
                    &lt;td&gt;Move to top:&lt;/td&gt; 
                    &lt;td&gt;&lt;button dojoType="dijit.form.Button" onClick="topLayer"&gt;Top&lt;/button&gt;&lt;/td&gt; 
                &lt;/tr&gt; 
                &lt;tr&gt; 
                    &lt;td&gt;Move up:&lt;/td&gt; 
                    &lt;td&gt;&lt;button dojoType="dijit.form.Button" onClick="raiseLayer"&gt;Up&lt;/button&gt;&lt;/td&gt; 
                &lt;/tr&gt; 
                &lt;tr&gt; 
                    &lt;td&gt;Move down:&lt;/td&gt; 
                    &lt;td&gt;&lt;button dojoType="dijit.form.Button" onClick="lowerLayer"&gt;Down&lt;/button&gt;&lt;/td&gt; 
                &lt;/tr&gt; 
                &lt;tr&gt; 
                    &lt;td&gt;Move to bottom:&lt;/td&gt; 
                    &lt;td&gt;&lt;button dojoType="dijit.form.Button" onClick="bottomLayer"&gt;Bottom&lt;/button&gt;&lt;/td&gt; 
                &lt;/tr&gt; 
            &lt;/table&gt; <a id="id26" class="indexterm"></a>

        &lt;/td&gt; 
    &lt;/tr&gt; 
&lt;/table&gt;</pre></div></li><li><p>Create an <code class="literal">OpenLayers.Map</code> instance working in the <code class="literal">allOverlays</code> mode:</p><div class="informalexample"><pre class="programlisting">var map = new OpenLayers.Map("ch1_managing_layers", {
    allOverlays: true
});</pre></div></li><li><p>Add some layers to the map:</p><div class="informalexample"><pre class="programlisting">var jpl = new OpenLayers.Layer.WMS("JPL", 
    [
    "http://t1.hypercube.telascience.org/tiles?",
    "http://t2.hypercube.telascience.org/tiles?",
    "http://t3.hypercube.telascience.org/tiles?",
    "http://t4.hypercube.telascience.org/tiles?"
    ], 
    {
        layers: 'landsat7'
    });
var worldmap = new OpenLayers.Layer.WMS("WorldMap", "http://vmap0.tiles.osgeo.org/wms/vmap0", 
{
    layers: 'basic', 
    format: 'image/png' 
},
{
    opacity: 0.5
});
var canada = new OpenLayers.Layer.WMS("Canada", "http://www2.dmsolutions.ca/cgi-bin/mswms_gmap",
{
    layers: "bathymetry,land_fn,park",
    transparent: "true", 
    format: "image/png" 
},
{
    opacity: 0.5
});
map.addLayers([jpl, worldmap, canada]);</pre></div></li><li><p>Add a layers switcher control (to show the layers) and center the map view:</p><div class="informalexample"><pre class="programlisting">map.addControl(new OpenLayers.Control.LayerSwitcher({
    ascending: false<a id="id27" class="indexterm"></a>
}));
map.setCenter(new OpenLayers.LonLat(-100, 40), 4);</pre></div></li><li><p>Finally, add the JavaScript code that will react when the previous four buttons were clicked:</p><div class="informalexample"><pre class="programlisting">function raiseLayer() {
    var layerName = dijit.byId('layerSelection').get('value');
    var layer = map.getLayersByName(layerName)[0];
    map.raiseLayer(layer, 1);
}
function lowerLayer() {
    var layerName = dijit.byId('layerSelection').get('value');
    var layer = map.getLayersByName(layerName)[0];
    map.raiseLayer(layer, -1);
}
function topLayer() {
    var layerName = dijit.byId('layerSelection').get('value');
    var layer = map.getLayersByName(layerName)[0];
    var lastIndex = map.getNumLayers()-1;
    map.setLayerIndex(layer, lastIndex);
}
function bottomLayer() {
    var layerName = dijit.byId('layerSelection').get('value');
    var layer = map.getLayersByName(layerName)[0];
    map.setLayerIndex(layer, 0);
}</pre></div></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec33"></a>How it works...</h3></div></div></div><a id="id28" class="indexterm"></a><p>There is not much to say about the HTML code for the layout. We have used a table to put the map on the left and the set of buttons on the right. In addition, we have associated actions to the buttons that will be executed when they are clicked.</p><p>With respect to the OpenLayers code, we have created the map instance working in the <code class="literal">allOverlays</code> mode. This will let us move any layer without being worried about a base layer:</p><div class="informalexample"><pre class="programlisting">var map = new OpenLayers.Map("ch1_managing_layers", {
    allOverlays: true
});</pre></div><p>Later, we created three WMS layers and added them to the map. For some of them we have set the <code class="literal">opacity</code> property to <code class="literal">50%</code> to see through them:</p><div class="informalexample"><pre class="programlisting">map.addLayers([jpl, worldmap, canada]);</pre></div><p>It is very important to note that we have used the same name for the option's value attribute in the HTML select element as we have used for the layer. Later, this will let us select a map's layer by its name.</p><p>Next, we have added an <code class="literal">OpenLayers.Control.LayerSwitcher</code> control by setting its <code class="literal">ascending</code> property to <code class="literal">false</code>:</p><div class="informalexample"><pre class="programlisting">map.addControl(new OpenLayers.Control.LayerSwitcher({
    ascending: false
}));</pre></div><p>You can think of the map as storing layers in a stack and they are rendered from bottom to top, so the above layers can hide beneath the below layers depending on its opacity and extent.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip04"></a>Tip</h3><p>By default the <a id="id29" class="indexterm"></a>
<code class="literal">ascending</code> property is <code class="literal">true</code>, and the layer switcher control shows the layers of the map in the reverse order, that is, the bottom layer is drawn first in the control and the top layer is drawn last. You can avoid this by setting <code class="literal">ascending</code> to <code class="literal">false</code>.</p></div><p>Finally, the only thing we need to take a look at is the code responsible for button actions, which is the most interesting code in this recipe.</p><p>Let's take a look to the <code class="literal">raiseLayer()</code> action (which is very similar to <code class="literal">lowerLayer()</code> action):</p><div class="informalexample"><pre class="programlisting">function raiseLayer() {
    var layerName = dijit.byId('layerSelection').get('value');
    var layer = map.getLayersByName(layerName)[0];
    map.raiseLayer(layer, 1);
}</pre></div><p>First, we get the name of the currently selected layer in the select element (don't worry if you don't understand that line completely, it is more related to the Dojo framework than to OpenLayers).</p><p>Then, we use the <a id="id30" class="indexterm"></a>
<code class="literal">map.getLayersByName()</code> method, which returns an array with all the layers that have the specified name. Because of this, we get the first element of the array.</p><p>Now we have a reference to the layer instance. We can raise it in the map using the <code class="literal">map.raiseLayer()</code> method. You can raise it by one or more positions indicating a <code class="literal">delta</code> number or, like in the <code class="literal">lowerLayer()</code> function, you can lower it by one or more positions indicating a negative value.</p><p>Internally <code class="literal">OpenLayers.Map</code> stores layers in an array (the <code class="literal">layers</code> attribute) and they are rendered in the order they are stored in the array (so the first element is the bottom layer).<a id="id31" class="indexterm"></a>
</p><p>The <code class="literal">topLayer()</code> and <code class="literal">bottomLayer()</code> actions are similar too, they move the specified layer to the top or bottom of the stack. They both work using the <code class="literal">map.setLayerIndex()</code> method, which is responsible to move a layer to a specified position.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note11"></a>Note</h3><p>The method <code class="literal">map.setLayerIndex()</code> is used internally by <code class="literal">map.raiseLayer()</code> to move layers.</p></div><p>Because the bottom layer corresponds to the first layer in the array of layers, the <code class="literal">bottomLayer()</code> action is the easiest to implement because we simply need to move the layer to the first position:</p><div class="informalexample"><pre class="programlisting">function bottomLayer() {
    var layerName = dijit.byId('layerSelection').get('value');
    var layer = map.getLayersByName(layerName)[0];
    map.setLayerIndex(layer, 0);
}</pre></div><p>For the <code class="literal">topLayer()</code> actions, we need to move the layer to the last position. To do this, we can get help from the<a id="id32" class="indexterm"></a> <code class="literal">map.getNumLayers()</code> method, which returns the total number of layers in the map. In this way, if we have four layers in the map, the last corresponds to the index <code class="literal">3</code> (because the index value changes from <code class="literal">0</code> to <code class="literal">3</code>).</p><div class="informalexample"><pre class="programlisting">function topLayer() {
    var layerName = dijit.byId('layerSelection').get('value');
    var layer = map.getLayersByName(layerName)[0];
    var lastIndex = map.getNumLayers()-1;
    map.setLayerIndex(layer, lastIndex);
}</pre></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec34"></a>There's more...</h3></div></div></div><p>The <code class="literal">OpenLayers.Map</code> class has plenty of methods to manipulate the contained layers. We have seen a few in these recipes, to add, get layers by name, move up or down in the stack, and so on. But you can find more methods to remove layers, get layers by their position, and so on.<a id="id33" class="indexterm"></a>
</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec35"></a>See also</h3></div></div></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Managing map's controls</em></span> recipe</p></li><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Moving around the map view</em></span> recipe</p></li><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Restricting the map extent</em></span> recipe</p></li></ul></div></div></div>
</div>
<a name="book-section-8">&nbsp;</a>
<div id="book-section-8">
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec15"></a>Managing map's controls</h2></div></div><hr></div><p>OpenLayers comes with lots of controls to interact with the map: pan, zoom, show overview map, edit features, and so on.</p><p>In the same way as layers, the <code class="literal">OpenLayers.Map</code> class has methods to manage the controls attached to the map.</p><div class="mediaobject"><img src="https://static.packt-cdn.com/products/9781849517843/graphics/7843_01_06.jpg"></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec36"></a>How to do it...</h3></div></div></div><p>Follow the given steps:<a id="id34" class="indexterm"></a>
</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new HTML file and add the OpenLayers dependencies.</p></li><li><p>Now, add the required code to create the buttons and <code class="literal">div</code> element to hold the map instance:</p><div class="informalexample"><pre class="programlisting">&lt;div class="sample_menu" dojoType="dijit.MenuBar"&gt;
    &lt;span class="title"&gt;Controls: &lt;/span&gt;
    &lt;div dojoType="dijit.form.ToggleButton" iconClass="dijitCheckBoxIcon" onChange="updateMousePosition"&gt;MousePosition&lt;/div&gt;
    &lt;div dojoType="dijit.form.ToggleButton" iconClass="dijitCheckBoxIcon" onChange="updatePanPanel"&gt;PanPanel&lt;/div&gt;
    &lt;div dojoType="dijit.form.ToggleButton" iconClass="dijitCheckBoxIcon" onChange="updateZoomPanel"&gt;ZoomPanel&lt;/div&gt;
&lt;/div&gt;
&lt;!-- Map DOM element --&gt;
&lt;div id="ch1_managing_controls" style="width: 100%; height: 500px;"&gt;&lt;/div&gt;</pre></div></li><li><p>Within the <code class="literal">script</code> element section, create the map instance:</p><div class="informalexample"><pre class="programlisting">var map = new OpenLayers.Map("ch1_managing_controls", {
    controls: [
    new OpenLayers.Control.Navigation()
    ]
});</pre></div></li><li><a id="id35" class="indexterm"></a><p>Add some layers to the map and center the view:</p><div class="informalexample"><pre class="programlisting">var wms = new OpenLayers.Layer.WMS("OpenLayers WMS Basic", "http://vmap0.tiles.osgeo.org/wms/vmap0",
{
    layers: 'basic'
},
{
    wrapDateLine: false
});
map.addLayer(wms);
// Center the view
map.setCenter(OpenLayers.LonLat.fromString("0,0"),3);</pre></div></li><li><p>Finally, add the actions code associated to the buttons:</p><div class="informalexample"><pre class="programlisting">function updateMousePosition(checked) {
    if(checked) {
        map.addControl(new OpenLayers.Control.MousePosition());
    } else {
        var controls = map.getControlsByClass("OpenLayers.Control.MousePosition");
        console.log(controls);
        map.removeControl(controls[0]);
    }
}
function updatePanPanel(checked) {
    if(checked) {
        map.addControl(new OpenLayers.Control.PanPanel());
    } else {
        var controls = map.getControlsByClass("OpenLayers.Control.PanPanel");
        map.removeControl(controls[0]);
    }
}
function updateZoomPanel(checked) {
    if(checked) {
        // Place Zoom control at specified pixel
        map.addControl(new OpenLayers.Control.ZoomPanel(), new OpenLayers.Pixel(50,10));
    } else {
        var controls = map.getControlsByClass("OpenLayers.Control.ZoomPanel");
        map.removeControl(controls[0]);
    }<a id="id36" class="indexterm"></a>
}</pre></div></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec37"></a>How it works...</h3></div></div></div><a id="id37" class="indexterm"></a><p>Every button action function checks if the toggle button is checked or unchecked and depending on the value we add or remove the control to the map:</p><div class="informalexample"><pre class="programlisting">if(checked) {
    // Place Zoom control at specified pixel
    map.addControl(new OpenLayers.Control.ZoomPanel(), new OpenLayers.Pixel(50,10));
} else {
    var controls = map.getControlsByClass("OpenLayers.Control.ZoomPanel");
    map.removeControl(controls[0]);
}</pre></div><p>Adding a control is fairly simple through the<a id="id38" class="indexterm"></a> <code class="literal">map.addControl()</code> method, which, given a control instance&acirc;&#128;&#148;and, optionally a <code class="literal">OpenLayers.Pixel</code> instance&acirc;&#128;&#148;adds the control to the map at the specified position.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note12"></a>Note</h3><p>Usually, a control position is controlled by modifying the <code class="literal">top</code> and <code class="literal">left</code> values in the CSS class used by the control. If you use a <code class="literal">OpenLayers.Pixel</code> value to position the control, then that value will overwrite the CSS ones.</p></div><p>To remove a control we need to have a reference to the instance that has to be removed. The method <code class="literal">map.getControlsByClass()</code> returns an array of controls of the specified class and helps us to get a reference to the desired control. Next, we can remove it with <code class="literal">map.removeControl()</code>.<a id="id39" class="indexterm"></a>
</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec38"></a>There's more...</h3></div></div></div><p>Note, in this recipe we have centered the map's view passing a <code class="literal">OpenLayers.LonLat</code> instance created in a different way. Instead of using the <code class="literal">new</code> operator, we have used the method <code class="literal">OpenLayers.LonLat.fromString</code>, which created a new instance from a string:</p><div class="informalexample"><pre class="programlisting">map.setCenter(OpenLayers.LonLat.fromString("0,0"),3);</pre></div><p>In addition, the map instance created in this recipe has initialized with only one control, <code class="literal">OpenLayers.Control.Navigation()</code>, which allows us to navigate the map using the mouse:</p><div class="informalexample"><pre class="programlisting">var map = new OpenLayers.Map("ch1_managing_controls", {
    controls: [
    new OpenLayers.Control.Navigation()
    ]
});</pre></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note13"></a>Note</h3><p>Passing an empty array to the <a id="id40" class="indexterm"></a>
<code class="literal">controls</code> property creates a map instance without any control associated with it. In addition, without specifying the <code class="literal">controls</code> property, OpenLayers creates a set of default controls for the map, which includes the <code class="literal">OpenLayers.Control.Navigation</code> and <code class="literal">OpenLayers.Control.PanZoom</code> controls.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec39"></a>See also</h3></div></div></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Managing map's stack layers</em></span> recipe</p></li><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Moving around the map view</em></span> recipe</p></li></ul></div></div></div>
</div>
<a name="book-section-9">&nbsp;</a>
<div id="book-section-9">
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec16"></a>Moving around the map view</h2></div></div><hr></div><a id="id41" class="indexterm"></a><p>Unless you want to create a completely static map, without the controls required for the user to pan or zoom, you would like the user to be able to navigate and explore the map.</p><p>There can be situations when the controls are not enough. Imagine a web application where the user can make a search, such as Everest, and the application must find its location and fly to it. In this case, you need to navigate by code and not by using a control.</p><p>This recipe shows you some of the <code class="literal">OpenLayers.Map</code> class methods that will allow you to improve the user's experience.<a id="id42" class="indexterm"></a>
</p><div class="mediaobject"><img src="https://static.packt-cdn.com/products/9781849517843/graphics/7843_01_07.jpg"></div><p>The application layout contains three main sections. At the top there is a label to show the current map center position and zoom level. It is automatically updated when the map is moved or the zoom is changed.</p><p>The map is in the center and there are a bunch of controls on the right to set and test the main map methods to interact with the view.</p><p>As you will see, the map has no control attached to it, so the only way to interact with it is through the right controls.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note14"></a>Note</h3><p>We omit the HTML code necessary to create the application layout, so if you are interested in the HTML code you can take a look at the source code available on the Packt Publishing website.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec40"></a>How to do it...</h3></div></div></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create an HTML file with OpenLayers dependencies.<a id="id43" class="indexterm"></a>
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note15"></a>Note</h3><p>The HTML code to create the buttons and layout of the previous screenshot is extensive and not related to the goal of the book, so here we avoid writing it.</p></div></li><li><p>Add a <code class="literal">div</code> element to hold the map instance:</p><div class="informalexample"><pre class="programlisting">&lt;div id="ch1_moving_around" style="width: 100%; height: 500px;"&gt;&lt;/div&gt;</pre></div></li><li><p>Create a map instance. This time we specify a listener for some events that will update the center and zoom values of the label on top of the map:</p><div class="informalexample"><pre class="programlisting">var map = new OpenLayers.Map("ch1_moving_around", {
    controls: [],
    eventListeners: {
        "move": changeListener,
        "moveend": changeListener,
        "zoomend": changeListener
    }
});
function changeListener() {
    var center = map.getCenter();
    document.getElementById("center").innerHTML = "("+center.lon + " lon , " + center.lat + " lat)";
    var zoom = map.getZoom();
    document.getElementById("zoom").innerHTML = zoom + " level";
}</pre></div></li><li><p>Add one layer and center the view:</p><div class="informalexample"><pre class="programlisting">var wms = new OpenLayers.Layer.WMS("OpenLayers WMS Basic", "http://vmap0.tiles.osgeo.org/wms/vmap0",
{
    layers: 'basic'
});
map.addLayer(wms);
map.setCenter(new OpenLayers.LonLat(0, 0), 2);</pre></div></li><li><p>Insert the code that will be executed by the button actions:</p><div class="informalexample"><pre class="programlisting">function moveByPx() {
    var x = dijit.byId('movebyxpix').get('value');
    var y = dijit.byId('movebyypix').get('value');
        
    map.moveByPx(x,y);
}
function moveTo() {
    var lon = dijit.byId('movetolon').get('value');
    var lat = dijit.byId('movetolat').get('value');
    var zoom = dijit.byId('movetozoom').get('value');
    var force = dijit.byId('movetoforceZoomChange').get('checked');
    var drag = dijit.byId('movetodragging').get('checked');
        
    map.moveTo(new OpenLayers.LonLat(lon, lat), zoom, {
        forceZoomChange: force,
        dragging: drag
    });<a id="id44" class="indexterm"></a>
}
function setCenter() {
    var lon = dijit.byId('setCenterlon').get('value');
    var lat = dijit.byId('setCenterlat').get('value');
    var zoom = dijit.byId('setCenterzoom').get('value');
    var force = dijit.byId('setCenterforceZoomChange').get('checked');
    var drag = dijit.byId('setCenterdragging').get('checked');
        
    map.setCenter(new OpenLayers.LonLat(lon, lat), zoom, {
        forceZoomChange: force,
        dragging: drag
    });
}
function pan() {
    var x = dijit.byId('panxpix').get('value');
    var y = dijit.byId('panypix').get('value');
    var anim = dijit.byId('pananimate').get('checked');
    var drag = dijit.byId('pandragging').get('checked');
        
    map.pan(x,y, {
        animate: anim,
        dragging: drag
    });
}
function panTo() {
    var lon = dijit.byId('panTolon').get('value');
    var lat = dijit.byId('panTolat').get('value');
        
    map.panTo(new OpenLayers.LonLat(lon, lat));
}</pre></div></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec41"></a>How it works...</h3></div></div></div><a id="id45" class="indexterm"></a><p>To update the center and zoom level values at the top, we have instantiated the <code class="literal">Map</code> object with some event listeners attached to it. Actually, the same listener function is attached to all three events:</p><div class="informalexample"><pre class="programlisting">var map = new OpenLayers.Map("ch1_moving_around", {
    controls: [],
    eventListeners: {
        "move": changeListener,
        "moveend": changeListener,
        "zoomend": changeListener
    }
});</pre></div><p>Within the <a id="id46" class="indexterm"></a>
<code class="literal">changeListener()</code> function we use <code class="literal">map.getCenter()</code>, which returns an <code class="literal">OpenLayers.LonLat</code> object, and <code class="literal">map.getZoom()</code> to get the current values and update the top-left label.</p><div class="informalexample"><pre class="programlisting">function changeListener() {
    var center = map.getCenter();
    document.getElementById("center").innerHTML = "("+center.lon + " lon , " + center.lat + " lat)";
    var zoom = map.getZoom();
    document.getElementById("zoom").innerHTML = zoom + " level";
}</pre></div><p>For every button, an action is executed. They are responsible to get the required values and invoke a <code class="literal">map</code> method.</p><p>The <code class="literal">map.moveByPx()</code> method moves the map by a delta value specified in pixels. Note, it moves the map; it doesn't pan, so don't expect any effect.</p><div class="informalexample"><pre class="programlisting">function moveByPx() {
    var x = dijit.byId('movebyxpix').get('value');
    var y = dijit.byId('movebyypix').get('value');
        
    map.moveByPx(x,y);
}</pre></div><p>The<a id="id47" class="indexterm"></a> <code class="literal">map.moveTo()</code> method is similar to the previous one but moves the view to a specified position (instead of an increment) and is specified with an <code class="literal">OpenLayers.LonLat</code> instance.</p><p>The<a id="id48" class="indexterm"></a> <code class="literal">map.setCenter()</code> method is similar to <code class="literal">map.moveTo()</code> but it centers the view on the specified location.</p><p>Finally, there are two pan-related actions, which make nice smooth movements. The <code class="literal">map.pan()</code> method<a id="id49" class="indexterm"></a> moves the view with a pan effect specified by a pixel delta. The <code class="literal">map.panTo()</code> method<a id="id50" class="indexterm"></a> does something similar, it moves the view to a specified location.<a id="id51" class="indexterm"></a>
</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec42"></a>See also</h3></div></div></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Managing map's stack layers</em></span> recipe</p></li><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Restricting the map extent</em></span> recipe</p></li></ul></div></div></div>
</div>
<a name="book-section-10">&nbsp;</a>
<div id="book-section-10">
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec17"></a>Restricting the map extent</h2></div></div><hr></div><a id="id52" class="indexterm"></a><p>Often, there are situations where you are interested to show data to the user but only for a specific area, which your available data corresponds to (a country, a region, a city, and so on).</p><p>In this case, there is no point in allowing the user to explore the whole world, so you need to limit the extent the user can navigate.</p><p>In this recipe, we present some ways to limit the area a user can explore.</p><div class="mediaobject"><img src="https://static.packt-cdn.com/products/9781849517843/graphics/7843_01_08.jpg"></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec43"></a>How to do it...</h3></div></div></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a map instance. Take a look at the couple of properties used in the constructor:</p><div class="informalexample"><pre class="programlisting">var map = new OpenLayers.Map("ch1_restricting_view", {
    maxExtent: OpenLayers.Bounds.fromString("-180,-90,180,90"),
    restrictedExtent: OpenLayers.Bounds.fromString("-180,-90,180,90")
});<a id="id53" class="indexterm"></a>
</pre></div></li><li><p>As always, add some layer to see content and center the view:</p><div class="informalexample"><pre class="programlisting">var wms = new OpenLayers.Layer.WMS("OpenLayers WMS Basic", "http://vmap0.tiles.osgeo.org/wms/vmap0",
{
    layers: 'basic'
});
map.addLayer(wms);
map.setCenter(new OpenLayers.LonLat(0, 0), 2);</pre></div></li><li><p>Add the functions that will be executed when buttons are clicked:</p><div class="informalexample"><pre class="programlisting">function updateMaxExtent() {
    var left = dijit.byId('left_me').get('value');
    var bottom = dijit.byId('bottom_me').get('value');
    var right = dijit.byId('rigth_me').get('value');
    var top = dijit.byId('top_me').get('value');      
    map.setOptions({
        maxExtent: new OpenLayers.Bounds(left, bottom, right, top)
    });
}
function updateRestrictedExtent() {
    var left = dijit.byId('left_re').get('value');
    var bottom = dijit.byId('bottom_re').get('value');
    var right = dijit.byId('rigth_re').get('value');
    var top = dijit.byId('top_re').get('value');
    map.setOptions({
        restrictedExtent: new OpenLayers.Bounds(left, bottom, right, top)
    });
}</pre></div></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec44"></a>How it works...</h3></div></div></div><a id="id54" class="indexterm"></a><p>As you have seen, the map has been instantiated using the two properties <code class="literal">maxExtent</code> and <code class="literal">restrictedExtent</code>, which are responsible for limiting the area of the map we can explore.</p><p>Although similar, these two properties have different meanings. Setting the<a id="id55" class="indexterm"></a> <code class="literal">maxExtent</code> property limits the viewport so its center cannot go outside the specified bounds. By setting the <a id="id56" class="indexterm"></a>
<code class="literal">restrictedExtent</code> property the map itself cannot be panned beyond the given bounds.<a id="id57" class="indexterm"></a>
</p><p>The functions that react when buttons are clicked get the values from the input fields and apply the new values through the <code class="literal">map.setOptions()</code> method:<a id="id58" class="indexterm"></a>
</p><div class="informalexample"><pre class="programlisting">map.setOptions({
    maxExtent: new OpenLayers.Bounds(left, bottom, right, top)
});</pre></div><p>We can pass the same properties we use when creating a new <code class="literal">OpenLayers.Map</code> instance to the <code class="literal">map.setOptions()</code> method<a id="id59" class="indexterm"></a> and it will take care to update them.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec45"></a>There's more...</h3></div></div></div><p>Limiting the map extent is not the only way to limit the information we show to the user. The layers have also similar properties to filter or limit the information they must render.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec46"></a>See also</h3></div></div></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Moving around the map view</em></span> recipe</p></li></ul></div></div></div>
</div>
<div class="product__more">
<a class="button" href="https://subscription.packtpub.com/book/application-development/9781849517843/1/ch01lvl1sec08/introduction" id="continue-reading" onclick="return pp.continueReading();">
Read more
</a>
<a href="/checkout/subscription/packt-monthly-five-month-offer" class="button" id="get-subscription" style="display: none;">
Unlock the full Packt library for just $5/m
</a>
</div>
</div>
</article>
<section class="product__author container" id="authors">
<div class="container-full">
<h3>About the Author</h3>
<ul class="accordion" id="collapse1">
<li class="accordion__item">
<a href="#" onclick="return false;" data-toggle="collapse" data-target="#author-collapse0" aria-expanded="true" aria-controls="collapse0">
<h5 class="accordion__title">
Antonio Santiago Perez
</h5>
</a>
<div class="accordion__content collapse show" id="author-collapse0" data-parent="#collapse1">
 <p><p>Antonio Santiago Perez is a computer science professional with more than 10 years of experience in designing and implementing systems. Since the beginning of his professional life, his work has been always related to the world of meteorology while working for different companies as an employee or a freelancer. He has experience in development of systems that collect, store, transform, analyze, and visualize data, and he is actively interested in any GIS-related technology with a preference for data visualization. His main field of experience is the Java ecosystem, and he has also actively worked with many related web technologies while looking to improve the client side of web applications. He is a firm believer in software engineering practices and is a follower of agile methodologies, involving customers as the main key to the project's success.</p></p>
<span class="browse-publications">Browse publications by this author</span>
</div>
</li>
</ul>
</div>
</section>
<section class="page-section page-section--reviews">
<div class="container" id="reviews-data">
<header class="page-section__header">
<div>
<h3>Latest Reviews</h3>
<span class="h5">(2 reviews total)</span>
</div>
</header>
<div class="swiper-container swiper-container--mobile-only">
<div class="swiper-wrapper">
<div class="card card--large card--review swiper-slide">
<div class="card__inner">
<div class="card__content">
<h5 class="card__title">Excellent</h5>
<div class="card__excerpt">
</div>
</div>
<div class="card__footer">
<div class="card__rating">
<img src="/images/star--100.svg" class="star" />
<img src="/images/star--100.svg" class="star" />
<img src="/images/star--100.svg" class="star" />
<img src="/images/star--100.svg" class="star" />
<img src="/images/star--100.svg" class="star" />
<span>5</span>
</div>
<span class="card__date">
03 May 2016
</span>
<span class="card__pages">
Trusted Customer
</span>
</div>
</div>
</div>
<div class="card card--large card--review swiper-slide">
<div class="card__inner">
<div class="card__content">
<h5 class="card__title">Written, edited well (in contrast to some other Packt publications with weak English grammar--where some final corrective editing would have made a real difference).
Sometimes the &quot;logic&quot; behind the sequencing of the chapter examples is hard to follow. Nonetheless, the book is well worth acquiring to learn OpenLayers3.</h5>
<div class="card__excerpt">
</div>
</div>
<div class="card__footer">
<div class="card__rating">
<img src="/images/star--100.svg" class="star" />
<img src="/images/star--100.svg" class="star" />
<img src="/images/star--100.svg" class="star" />
<img src="/images/star--100.svg" class="star" />
<img src="/images/star--0.svg" class="star" />
<span>4</span>
</div>
<span class="card__date">
16 December 2015
</span>
<span class="card__pages">
Trusted Customer
</span>
</div>
</div>
</div>
<div class="row">
<div class="col-12 d-flex justify-content-center">
</div>
</div>
</div>
</div>
</div>
</div>
</section>
</main>
<section class="product__author container upsell">
<div class="upsell-card">
<div class="upsell-card__inner">
<div class="upsell-card__header">
<div class="upsell-card__image">
<img src="https://static.packt-cdn.com/products/9781849517843/cover/smaller" alt="Book Title" />
</div>
<div class="upsell-card__info">
<div class="upsell-card__text">
<div class="upsell-card__text-title">
Access this book, plus 7,500 other titles for just <span class="orange">$5/m</span>
<span class="countdown" style="display: none">
Expire: <span class="countdown__timer orange"></span>
</span>
</div>
<div class="hidden-xxs hidden-xs">
Get all the quality content you’ll ever need to stay ahead with a Packt subscription – access over 5,500 online books and videos on everything in tech
</div>
</div>
<a href="https://subscription.packtpub.com/checkout/packt-subscription-monthly-launch-offer?freeTrial" class="button" target="_blank" data-tippy-position="right">
<span>Access now</span>
</a>
<button type="button" class="close" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
</div>
</div>
</div>
</div>
</section>
<footer class="primary-footer margin">
<div class="container">
<div class="footer-group row">
<div class="help-support primary-footer-text col-sm-4">
<p class="footer-heading">Useful Links</p>
<ul>
<li class="footer-text">
<a href="https://www.packtpub.com/about" target="_self">About us</a>
</li>
<li class="footer-text">
<a href="https://www.packtpub.com/authors" target="_self">Our Authors</a>
</li>
<li class="footer-text">
<a href="https://www.packtpub.com/about/press" target="_self">Press</a>
</li>
<li class="footer-text">
<a href="https://www.packtpub.com/about/careers" target="_self">Careers</a>
</li>
<li class="footer-text">
<a href="https://www.packtpub.com/about/privacy-policy" target="_self">Privacy Policy</a
                        >
</li>
<li class="footer-text">
<a href="https://www.packtpub.com/about/cookie-policy" target="_self">View our Cookie Policy</a
                        >
</li>
</ul>
</div>
<div class="useful-links primary-footer-text col-sm-4">
<p class="footer-heading">Help & Support</p>
<ul>
<li class="footer-text">
<a href="https://www.packtpub.com/support" target="_self">Support Home</a>
</li>
<li class="footer-text">
<a href="https://www.packtpub.com/support/faq" target="_self">Frequently Asked Questions</a
                        >
</li>
<li class="footer-text">
<a href="https://www.packtpub.com/support/purchases" target="_self">Orders & Purchases</a
                        >
</li>
<li class="footer-text">
<a href="https://www.packtpub.com/support/code-downloads" target="_self">Code Download & Errata</a
                        >
</li>
<li class="footer-text">
<a href="https://www.packtpub.com/support/errata" target="_self">Submit Errata</a
                        >
</li>
<li class="footer-text">
<a href="https://www.packtpub.com/contact" target="_self">Contact Us</a>
</li>
</ul>
</div>
<div class="sign-up-social primary-footer-text col-sm-4">
<div class="hidden-xxs">
<p class="footer-heading">Social</p>
<ul class="social-links">
<li>
<a href="https://www.facebook.com/PacktPub/" target="_blank">
<i class="fa fa-facebook-official" aria-hidden="true"></i>
</a>
</li>
<li>
<a href="https://twitter.com/PacktPub" target="_blank">
<i class="fa fa-twitter" aria-hidden="true"></i>
</a>
</li>
<li>
<a href="https://www.linkedin.com/company/packt-publishing/" target="_blank">
<i class="fa fa-linkedin" aria-hidden="true"></i>
</a>
</li>
<li>
<a href="https://www.youtube.com/user/packt1000/featured" target="_blank"><i class="fa fa-youtube-play" aria-hidden="true"></i>
</a>
</li>
<li>
<a href="https://github.com/PacktPublishing" target="_blank">
<i class="fa fa-github" aria-hidden="true"></i>
</a>
</li>
<li>
<a href="https://hub.packtpub.com/feed/" target="_blank"><i class="fa fa-rss" aria-hidden="true"></i>
</a>
</li>
</ul>
</div>
<div class="sign-up-show primary-footer-text">
<p>
Sign up to our emails for regular updates, bespoke offers, exclusive
discounts and great free content.
</p>
<div class="newsletter-signup">
<input type="email" class="form-control" placeholder="Enter your email address" aria-label="Email" required [(ngModel)]="email" #ctrl="ngModel" />
<button class="btn" type="submit" (click)="subscribeToUpdates()">
Submit
</button>
</div>
</div>
<div class="app-icons">
<a href="https://apps.apple.com/app/packt/id1376577776?ls=1" target="_blank"><img src="/images/apple-app-store.png" class="app-icon-badge" alt="Download on the App Store" /></a>
<a href="https://play.google.com/store/apps/details?id=com.packtpub.reader" target="_blank"><img src="/images/google-play-app.png" class="app-icon-badge" alt="Get it on Google Play" /></a>
</div>
</div>
<div class="social-mobile hidden-laptop primary-footer-text">
<p class="footer-heading">Social</p>
<ul class="social-links">
<li>
<a href="https://www.facebook.com/PacktPub/" target="_blank">
<i class="fa fa-facebook-official" aria-hidden="true"></i>
</a>
</li>
<li>
<a href="https://twitter.com/PacktPub" target="_blank">
<i class="fa fa-twitter" aria-hidden="true"></i>
</a>
</li>
<li>
<a href="https://www.linkedin.com/company/packt-publishing/" target="_blank">
<i class="fa fa-linkedin" aria-hidden="true"></i>
</a>
</li>
<li>
<a href="https://www.youtube.com/user/packt1000/featured" target="_blank"><i class="fa fa-youtube-play" aria-hidden="true"></i>
</a>
</li>
<li>
<a href="https://github.com/PacktPublishing" target="_blank">
<i class="fa fa-github" aria-hidden="true"></i>
</a>
</li>
<li>
<a href="https://hub.packtpub.com/feed/" target="_blank"><i class="fa fa-rss" aria-hidden="true"></i>
</a>
</li>
</ul>
</div>
</div>
<div class="margin footer-copyright">
<p>
The word 'Packt' and the Packt logo are registered trademarks belonging to
Packt Publishing Limited. All rights reserved
</p>
</div>
</div>
</footer>
</div>
<script src="/js/product.js?id=e963a7aa18c2925f3217"></script>
<script>
            let pp = new window.TOC(3, 11, false, 'books');
            $('.book-content ul li:has(ul)').addClass('has_sub');
        </script>
<script>
        const timer = new window.CutdowmTimer("2020-12-01 00:00:00");
    </script>
</body>
</html>
